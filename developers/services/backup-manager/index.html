
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="https://solarnetwork.github.io/solarnode-handbook/developers/services/backup-manager/" rel="canonical"/>
<link href="../../settings/factory/" rel="prev"/>
<link href="../closeable-service/" rel="next"/>
<link href="../../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.4.2, mkdocs-material-9.1.7" name="generator"/>
<title>Backup Manager - SolarNode Handbook</title>
<link href="../../../assets/stylesheets/main.ded33207.min.css" rel="stylesheet"/>
<link href="../../../assets/stylesheets/palette.a0c5b2b5.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../../../css/sn.css" rel="stylesheet"/>
<script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="amber" data-md-color-scheme="default" dir="ltr">
<script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#backup-manager">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="SolarNode Handbook" class="md-header__button md-logo" data-md-component="logo" href="../../.." title="SolarNode Handbook">
<img alt="logo" src="../../../images/solarnode-icon.svg"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            SolarNode Handbook
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Backup Manager
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="amber" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="amber" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"></path></svg>
</label>
</form>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="SolarNode Handbook" class="md-nav__button md-logo" data-md-component="logo" href="../../.." title="SolarNode Handbook">
<img alt="logo" src="../../../images/solarnode-icon.svg"/>
</a>
    SolarNode Handbook
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_1" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../../users/">User Guide</a>
<label for="__nav_1">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_1_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_1">
<span class="md-nav__icon md-icon"></span>
          User Guide
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../users/getting-started/">
        Getting Started
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_1_3" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../../users/setup-app/">Setup App</a>
<label for="__nav_1_3">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_1_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_1_3">
<span class="md-nav__icon md-icon"></span>
          Setup App
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../users/setup-app/login/">
        Login
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../users/setup-app/home/">
        Home
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../users/setup-app/certificates/">
        Certificates
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_1_3_5" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../../users/setup-app/settings/">Settings</a>
<label for="__nav_1_3_5">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_1_3_5_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_1_3_5">
<span class="md-nav__icon md-icon"></span>
          Settings
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../users/setup-app/settings/components/">
        Components
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../users/setup-app/settings/datum-filters/">
        Datum Filters
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../users/setup-app/settings/logging/">
        Logging
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../users/setup-app/settings/op-modes/">
        Operational Modes
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_1_3_6" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../../users/setup-app/tools/">Tools</a>
<label for="__nav_1_3_6">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_1_3_6_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_1_3_6">
<span class="md-nav__icon md-icon"></span>
          Tools
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../users/setup-app/tools/controls/">
        Controls
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../users/setup-app/tools/command-console/">
        Command Console
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../users/setup-app/plugins/">
        Plugins
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../users/setup-app/profile/">
        Profile
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../users/networking/">
        Networking
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../users/configuration/">
        Configuration
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../users/settings/">
        Settings Files
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../users/logging/">
        Logging
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../users/placeholders/">
        Placeholders
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../">Developer Guide</a>
<label for="__nav_2">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="true" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
          Developer Guide
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_2" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../osgi/">Plugins</a>
<label for="__nav_2_2">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_2">
<span class="md-nav__icon md-icon"></span>
          Plugins
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../osgi/manifest/">
        Manifest
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../osgi/life-cycle/">
        Life cycle
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../osgi/configuration-admin/">
        Configuration Admin
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../osgi/blueprint/">
        Blueprint
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../osgi/blueprint-compendium/">
        Blueprint Compendium
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_3" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../settings/">Settings</a>
<label for="__nav_2_3">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_3">
<span class="md-nav__icon md-icon"></span>
          Settings
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../settings/provider/">
        Settings Provider
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../settings/specifier/">
        Setting Specifier
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../settings/resource-handler/">
        Setting Resource Handler
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../settings/singleton/">
        Singleton Service
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../settings/factory/">
        Factory Service
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_2_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
          Services
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_2_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_4">
<span class="md-nav__icon md-icon"></span>
          Services
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          Backup Manager
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        Backup Manager
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#configuration">
    Configuration
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#backup">
    Backup
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#backup-archive">
    Backup Archive
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#backup-resource">
    Backup Resource
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#backup-resource-provider">
    Backup Resource Provider
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#backup-service">
    Backup Service
  </a>
<nav aria-label="Backup Service" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#filesystembackupservice">
    FileSystemBackupService
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#s3backupservice">
    S3BackupService
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../closeable-service/">
        Closeable Service
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../datum-data-source-poll-job/">
        Datum Data Source Poll Job
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../datum-data-source/">
        Datum Data Source
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../datum-db/">
        Datum Database
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../datum-queue/">
        Datum Queue
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../job-scheduler/">
        Job Scheduler
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../placeholder-service/">
        Placeholder Service
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../settings-db/">
        Settings Database
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../settings-service/">
        Settings Service
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../sql-database/">
        SQL Database
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../task-executor/">
        Task Executor
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../task-scheduler/">
        Task Scheduler
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#configuration">
    Configuration
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#backup">
    Backup
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#backup-archive">
    Backup Archive
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#backup-resource">
    Backup Resource
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#backup-resource-provider">
    Backup Resource Provider
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#backup-service">
    Backup Service
  </a>
<nav aria-label="Backup Service" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#filesystembackupservice">
    FileSystemBackupService
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#s3backupservice">
    S3BackupService
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="backup-manager"><span class="enumerate-headings-plugin enumerate-heading-plugin">35.</span> Backup Manager<a class="headerlink" href="#backup-manager" title="Permanent link">¶</a></h1>
<p>The <a href="https://javadoc.io/doc/net.solarnetwork.node/net.solarnetwork.node/latest/net/solarnetwork/node/backup/BackupManager.html"><code>net.solarnetwork.node.backup.BackupManager</code></a> API provides SolarNode with a
modular backup system composed of <a href="#backup-service">Backup Services</a> that provide storage for backup
data and <a href="#backup-resource-provider">Backup Resource Providers</a> that contribute data to be backed up
and support restoring backed up data.</p>
<p>The Backup Manager coordinates the creation and restoration of backups, delegating most of its
functionality to the <em>active</em> <a href="#backup-service">Backup Service</a>. The active Backup Service can be
controlled through <a href="#configuration">configuration</a>.</p>
<p>The Backup Manager also supports <em>exporting</em> and <em>importing</em> <a href="#backup-archive">Backup Archives</a>,
which are just <code>.zip</code> archives using a defined folder structure to preserve all backup resources
within a single backup.</p>
<p>This design of the SolarNode backup system makes it easy for SolarNode plugins to contribute
resources to backups, without needing to know where or how the backup data is ultimately stored.</p>
<div class="admonition info">
<p class="admonition-title">What goes in a Backup?</p>
<p>In SolarNode a Backup will contain all the critical settings that are unique to that node, such as:</p>
<ol>
<li>The node's security certificate</li>
<li>SolarNetwork association details</li>
<li>User accounts</li>
<li>Settings</li>
<li><em>and more</em></li>
</ol>
</div>
<h2 id="configuration"><span class="enumerate-headings-plugin enumerate-heading-plugin">35.1</span> Configuration<a class="headerlink" href="#configuration" title="Permanent link">¶</a></h2>
<p>The Backup Manager can be configured under the <code>net.solarnetwork.node.backup.DefaultBackupManager</code>
<a href="../../../users/configuration/">configuration namespace</a>:</p>
<div class="props-explicit-col-widths">
<table>
<thead>
<tr>
<th align="left">Key</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>backupRestoreDelaySeconds</code></td>
<td align="left">15</td>
<td align="left">A number of seconds to delay the attempt of restoring a backup, when a backup has been previously marked for restoration. This delay gives the platform time to boot up and register the <a href="#backup-resource-provider">backup resource providers</a> and other services required to perform the restore.</td>
</tr>
<tr>
<td align="left"><code>preferredBackupServiceKey</code></td>
<td align="left">net.solarnetwork.node.backup.FileSystemBackupService</td>
<td align="left">The key of the preferred (active) <a href="#backup-service">Backup Service</a> to use.</td>
</tr>
</tbody>
</table>
</div>
<h2 id="backup"><span class="enumerate-headings-plugin enumerate-heading-plugin">35.2</span> Backup<a class="headerlink" href="#backup" title="Permanent link">¶</a></h2>
<p>The <a href="https://javadoc.io/doc/net.solarnetwork.node/net.solarnetwork.node/latest/net/solarnetwork/node/backup/Backup.html"><code>net.solarnetwork.node.backup.Backup</code></a> API defines a unique backup, created by a
<a href="#backup-service">Backup Service</a>. Backups are uniquely identified with a unique <strong>key</strong> assigned by
the <a href="#backup-service">Backup Service</a> that creates them.</p>
<p>A <code>Backup</code> does not itself provide access to any of the resources associated with the backup.
Instead, the <code>getBackupResources()</code> method of <a href="https://javadoc.io/doc/net.solarnetwork.node/net.solarnetwork.node/latest/net/solarnetwork/node/backup/BackupService.html"><code>BackupService</code></a> returns them.</p>
<h2 id="backup-archive"><span class="enumerate-headings-plugin enumerate-heading-plugin">35.3</span> Backup Archive<a class="headerlink" href="#backup-archive" title="Permanent link">¶</a></h2>
<p>The <a href="#backup-manager">Backup Manager</a> supports <em>exporting</em> and <em>importing</em> specially formed <code>.zip</code>
archives that contain a complete <a href="#backup">Backup</a>. These archives are a convenient way to transfer
settings from one node to another, and can be used to restore SolarNode on a new device.</p>
<h2 id="backup-resource"><span class="enumerate-headings-plugin enumerate-heading-plugin">35.4</span> Backup Resource<a class="headerlink" href="#backup-resource" title="Permanent link">¶</a></h2>
<p>The <a href="https://javadoc.io/doc/net.solarnetwork.node/net.solarnetwork.node/latest/net/solarnetwork/node/backup/BackupResource.html"><code>net.solarnetwork.node.backup.BackupResource</code></a> API defines a unique item
within a <a href="#backup">Backup</a>. A Backup Resource could be a file, a database table, or anything that
can be serialized to a stream of bytes. Backup Resources are both provided by, and restored with,
<a href="#backup-resource-provider">Backup Resource Providers</a> so it is up to the Provider implementation to
know how to generate and then restore the Resources it manages.</p>
<h2 id="backup-resource-provider"><span class="enumerate-headings-plugin enumerate-heading-plugin">35.5</span> Backup Resource Provider<a class="headerlink" href="#backup-resource-provider" title="Permanent link">¶</a></h2>
<p>The <a href="https://javadoc.io/doc/net.solarnetwork.node/net.solarnetwork.node/latest/net/solarnetwork/node/backup/BackupResourceProvider.html"><code>net.solarnetwork.node.backup.BackupResourceProvider</code></a> API defines a
service that can both generate and restore <a href="#backup-resource">Backup Resources</a>. Each implementation
is identified by a unique <strong>key</strong>, typically the fully-qualified Java class name of the
implementation.</p>
<p>When a Backup is <strong>created</strong>, all Backup Resource Provider services registered in SolarNode will be
asked to contribute their Backup Resources, using the <code>getBackupResources()</code> method.</p>
<p>When a Backup is <strong>restored</strong>, Backup Resources will be passed to their associated Provider with the
<code>restoreBackupResource(BackupResource)</code> method.</p>
<h2 id="backup-service"><span class="enumerate-headings-plugin enumerate-heading-plugin">35.6</span> Backup Service<a class="headerlink" href="#backup-service" title="Permanent link">¶</a></h2>
<p>The <a href="https://javadoc.io/doc/net.solarnetwork.node/net.solarnetwork.node/latest/net/solarnetwork/node/backup/BackupService.html"><code>net.solarnetwork.node.backup.BackupService</code></a> API defines the bulk of the
SolarNode backup system. Each implementation is identified by a unique <strong>key</strong>, typically the
fully-qualified Java class name of the implementation.</p>
<p>To <strong>create</strong> a Backup, use the <code>performBackup(Iterable&lt;BackupResource&gt;)</code> method, passing in the
collection of <a href="#backup-resource">Backup Resources</a> to include.</p>
<p>To <strong>list</strong> the available Backups, use the <code>getAvailableBackups(Backup)</code> method.</p>
<p>To <strong>view</strong> a single Backup, use the <code>backupForKey(String)</code> method.</p>
<p>To <strong>list the resources</strong> in a Backup, use the <code>getBackupResources(Backup)</code>method.</p>
<h3 id="filesystembackupservice"><span class="enumerate-headings-plugin enumerate-heading-plugin">35.6.1</span> FileSystemBackupService<a class="headerlink" href="#filesystembackupservice" title="Permanent link">¶</a></h3>
<p>SolarNode provides the <code>net.solarnetwork.node.backup.FileSystemBackupService</code> default Backup Service
implementation that saves <a href="#backup-archive">Backup Archives</a> to the node's own file system.</p>
<h3 id="s3backupservice"><span class="enumerate-headings-plugin enumerate-heading-plugin">35.6.2</span> S3BackupService<a class="headerlink" href="#s3backupservice" title="Permanent link">¶</a></h3>
<p>The <a href="https://github.com/SolarNetwork/solarnetwork-node/tree/develop/net.solarnetwork.node.backup.s3"><code>net.solarnetwork.node.backup.s3</code></a> plugin provides the
<code>net.solarnetwork.node.backup.s3.S3BackupService</code> Backup Service implementation that saves all
Backup data to <a href="https://aws.amazon.com/s3/">AWS S3</a>.</p>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.annotate", "content.code.copy", "navigation.indexes", "navigation.instant", "navigation.path", "navigation.tracking", "toc.follow"], "search": "../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
<script src="../../../assets/javascripts/bundle.51198bba.min.js"></script>
<script src="../../../js/open_in_new_tab.js"></script>
</body>
</html>