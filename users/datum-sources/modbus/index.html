
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="https://solarnetwork.github.io/solarnode-handbook/users/datum-sources/modbus/" rel="canonical"/>
<link href="../" rel="prev"/>
<link href="../../datum-filters/" rel="next"/>
<link href="../../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.6.18" name="generator"/>
<title>Modbus Device - SolarNode Handbook</title>
<link href="../../../assets/stylesheets/main.7e37652d.min.css" rel="stylesheet"/>
<link href="../../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../../../css/sn.css" rel="stylesheet"/>
<script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="amber" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#modbus-device">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="SolarNode Handbook" class="md-header__button md-logo" data-md-component="logo" href="../../.." title="SolarNode Handbook">
<img alt="logo" src="../../../images/solarnode-icon.svg"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            SolarNode Handbook
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Modbus Device
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="amber" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="amber" data-md-color-scheme="slate" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
</label>
</form>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="SolarNode Handbook" class="md-nav__button md-logo" data-md-component="logo" href="../../.." title="SolarNode Handbook">
<img alt="logo" src="../../../images/solarnode-icon.svg"/>
</a>
    SolarNode Handbook
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_1" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../">
<span class="md-ellipsis">
    User Guide
    
  </span>
</a>
<label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="true" aria-labelledby="__nav_1_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_1">
<span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../getting-started/">
<span class="md-ellipsis">
    Getting Started
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_1_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../setup-app/">
<span class="md-ellipsis">
    Setup App
    
  </span>
</a>
<label class="md-nav__link" for="__nav_1_3" id="__nav_1_3_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_1_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_1_3">
<span class="md-nav__icon md-icon"></span>
            Setup App
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../setup-app/login/">
<span class="md-ellipsis">
    Login
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../setup-app/home/">
<span class="md-ellipsis">
    Home
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_1_3_4" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../setup-app/settings/">
<span class="md-ellipsis">
    Settings
    
  </span>
</a>
<label class="md-nav__link" for="__nav_1_3_4" id="__nav_1_3_4_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_1_3_4_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_1_3_4">
<span class="md-nav__icon md-icon"></span>
            Settings
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../setup-app/settings/components/">
<span class="md-ellipsis">
    Components
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../setup-app/settings/services/">
<span class="md-ellipsis">
    Services
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../setup-app/settings/datum-filters/">
<span class="md-ellipsis">
    Datum Filters
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../setup-app/settings/datum-sources/">
<span class="md-ellipsis">
    Datum Sources
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../setup-app/settings/logging/">
<span class="md-ellipsis">
    Logging
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../setup-app/settings/op-modes/">
<span class="md-ellipsis">
    Operational Modes
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../setup-app/settings/local-state/">
<span class="md-ellipsis">
    Local State
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../setup-app/settings/backups/">
<span class="md-ellipsis">
    Backups
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_1_3_5" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../setup-app/system/">
<span class="md-ellipsis">
    System
    
  </span>
</a>
<label class="md-nav__link" for="__nav_1_3_5" id="__nav_1_3_5_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_1_3_5_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_1_3_5">
<span class="md-nav__icon md-icon"></span>
            System
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../setup-app/system/certificates/">
<span class="md-ellipsis">
    Certificates
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../setup-app/system/packages/">
<span class="md-ellipsis">
    Packages
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../setup-app/system/host-aliases/">
<span class="md-ellipsis">
    Host Aliases
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../setup-app/system/restart/">
<span class="md-ellipsis">
    Restart
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../setup-app/system/reset/">
<span class="md-ellipsis">
    Reset
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_1_3_6" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../setup-app/tools/">
<span class="md-ellipsis">
    Tools
    
  </span>
</a>
<label class="md-nav__link" for="__nav_1_3_6" id="__nav_1_3_6_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_1_3_6_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_1_3_6">
<span class="md-nav__icon md-icon"></span>
            Tools
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../setup-app/tools/controls/">
<span class="md-ellipsis">
    Controls
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../setup-app/tools/command-console/">
<span class="md-ellipsis">
    Command Console
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../setup-app/tools/metrics/">
<span class="md-ellipsis">
    Metrics
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../setup-app/profile/">
<span class="md-ellipsis">
    Profile
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cli/">
<span class="md-ellipsis">
    Command Line Tool
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../datum/">
<span class="md-ellipsis">
    Datum
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_1_6" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../">
<span class="md-ellipsis">
    Datum Sources
    
  </span>
</a>
<label class="md-nav__link" for="__nav_1_6" id="__nav_1_6_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="true" aria-labelledby="__nav_1_6_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_1_6">
<span class="md-nav__icon md-icon"></span>
            Datum Sources
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    Modbus Device
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    Modbus Device
    
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#use">
<span class="md-ellipsis">
      Use
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#csv-configurer">
<span class="md-ellipsis">
      CSV Configurer
    </span>
</a>
<nav aria-label="CSV Configurer" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#modbus-csv-configuration-format">
<span class="md-ellipsis">
      Modbus CSV Configuration Format
    </span>
</a>
<nav aria-label="Modbus CSV Configuration Format" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#instance-identifiers">
<span class="md-ellipsis">
      Instance identifiers
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#csv-column-definition">
<span class="md-ellipsis">
      CSV column definition
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#example-csv">
<span class="md-ellipsis">
      Example CSV
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#settings">
<span class="md-ellipsis">
      Settings
    </span>
</a>
<nav aria-label="Settings" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#overall-settings-notes">
<span class="md-ellipsis">
      Overall settings notes
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#metadata-settings">
<span class="md-ellipsis">
      Metadata settings
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#datum-property-settings">
<span class="md-ellipsis">
      Datum property settings
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#expressions">
<span class="md-ellipsis">
      Expressions
    </span>
</a>
<nav aria-label="Expressions" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#expression-root-object">
<span class="md-ellipsis">
      Expression root object
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#expression-examples">
<span class="md-ellipsis">
      Expression examples
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#sub-sampling">
<span class="md-ellipsis">
      Sub-sampling
    </span>
</a>
<nav aria-label="Sub-sampling" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#sub-sample-filter-properties">
<span class="md-ellipsis">
      Sub-sample filter properties
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_1_7" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../datum-filters/">
<span class="md-ellipsis">
    Datum Filters
    
  </span>
</a>
<label class="md-nav__link" for="__nav_1_7" id="__nav_1_7_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_1_7_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_1_7">
<span class="md-nav__icon md-icon"></span>
            Datum Filters
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../datum-filters/chain/">
<span class="md-ellipsis">
    Filter Chain
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../datum-filters/control-updater/">
<span class="md-ellipsis">
    Control Updater
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../datum-filters/downsample/">
<span class="md-ellipsis">
    Downsample
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../datum-filters/expression/">
<span class="md-ellipsis">
    Expression
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../datum-filters/join/">
<span class="md-ellipsis">
    Join
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../datum-filters/metric-harvester/">
<span class="md-ellipsis">
    Metric Harvester
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../datum-filters/op-mode/">
<span class="md-ellipsis">
    Operational Mode
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../datum-filters/parameter-expression/">
<span class="md-ellipsis">
    Parameter Expression
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../datum-filters/property/">
<span class="md-ellipsis">
    Property
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../datum-filters/pvlib/">
<span class="md-ellipsis">
    POAI Calculator
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../datum-filters/split/">
<span class="md-ellipsis">
    Split
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../datum-filters/tariff/">
<span class="md-ellipsis">
    Tariff
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../datum-filters/throttle/">
<span class="md-ellipsis">
    Throttle
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../datum-filters/timeout/">
<span class="md-ellipsis">
    Timeout
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../datum-filters/unchanged-property/">
<span class="md-ellipsis">
    Unchanged Property
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../datum-filters/unchanged/">
<span class="md-ellipsis">
    Unchanged
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../datum-filters/virtual-meter/">
<span class="md-ellipsis">
    Virtual Meter
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_1_8" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../controls/">
<span class="md-ellipsis">
    Controls
    
  </span>
</a>
<label class="md-nav__link" for="__nav_1_8" id="__nav_1_8_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_1_8_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_1_8">
<span class="md-nav__icon md-icon"></span>
            Controls
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../controls/modbus/">
<span class="md-ellipsis">
    Modbus Control
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_1_9" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../io/">
<span class="md-ellipsis">
    I/O Integrations
    
  </span>
</a>
<label class="md-nav__link" for="__nav_1_9" id="__nav_1_9_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_1_9_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_1_9">
<span class="md-nav__icon md-icon"></span>
            I/O Integrations
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../io/modbus/">
<span class="md-ellipsis">
    Modbus
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../solarflux/">
<span class="md-ellipsis">
    SolarFlux
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_1_11" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../sysadmin/">
<span class="md-ellipsis">
    System Administration
    
  </span>
</a>
<label class="md-nav__link" for="__nav_1_11" id="__nav_1_11_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_1_11_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_1_11">
<span class="md-nav__icon md-icon"></span>
            System Administration
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../sysadmin/date-time/">
<span class="md-ellipsis">
    Date and Time
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../sysadmin/networking/">
<span class="md-ellipsis">
    Networking
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../sysadmin/packages/">
<span class="md-ellipsis">
    Package Maintenance
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../sysadmin/solarnode-service/">
<span class="md-ellipsis">
    SolarNode Service
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../sysadmin/solarssh/">
<span class="md-ellipsis">
    SolarSSH
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../networking/">
<span class="md-ellipsis">
    Networking
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../security-tokens/">
<span class="md-ellipsis">
    Security Tokens
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../remote-access/">
<span class="md-ellipsis">
    Remote Access
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../expressions/">
<span class="md-ellipsis">
    Expressions
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../local-state/">
<span class="md-ellipsis">
    Local State
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../metrics/">
<span class="md-ellipsis">
    Metrics
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../op-modes/">
<span class="md-ellipsis">
    Operational Modes
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../placeholders/">
<span class="md-ellipsis">
    Placeholders
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../configuration/">
<span class="md-ellipsis">
    Configuration
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../settings/">
<span class="md-ellipsis">
    Settings Files
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../logging/">
<span class="md-ellipsis">
    Logging
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../recipes/">
<span class="md-ellipsis">
    Recipes
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            Recipes
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../recipes/datum-filters/">
<span class="md-ellipsis">
    Datum Filters
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_2">
<span class="md-nav__icon md-icon"></span>
            Datum Filters
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../recipes/datum-filters/main-filter-chain/">
<span class="md-ellipsis">
    Main Filter Chain
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../recipes/datum-filters/daily-limit-tracking/">
<span class="md-ellipsis">
    Daily Limit Tracking
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../recipes/datum-filters/peak-tracking/">
<span class="md-ellipsis">
    Peak Tracking
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../developers/">
<span class="md-ellipsis">
    Developer Guide
    
  </span>
</a>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            Developer Guide
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../developers/osgi/">
<span class="md-ellipsis">
    Plugins
    
  </span>
</a>
<label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_2">
<span class="md-nav__icon md-icon"></span>
            Plugins
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developers/osgi/manifest/">
<span class="md-ellipsis">
    Manifest
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developers/osgi/life-cycle/">
<span class="md-ellipsis">
    Life cycle
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developers/osgi/configuration-admin/">
<span class="md-ellipsis">
    Configuration Admin
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developers/osgi/blueprint/">
<span class="md-ellipsis">
    Blueprint
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developers/osgi/blueprint-compendium/">
<span class="md-ellipsis">
    Blueprint Compendium
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../developers/settings/">
<span class="md-ellipsis">
    Settings
    
  </span>
</a>
<label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_3">
<span class="md-nav__icon md-icon"></span>
            Settings
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developers/settings/provider/">
<span class="md-ellipsis">
    Settings Provider
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developers/settings/specifier/">
<span class="md-ellipsis">
    Setting Specifier
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developers/settings/resource-handler/">
<span class="md-ellipsis">
    Setting Resource Handler
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developers/settings/singleton/">
<span class="md-ellipsis">
    Singleton Service
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developers/settings/factory/">
<span class="md-ellipsis">
    Factory Service
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
<span class="md-ellipsis">
    Services
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_4">
<span class="md-nav__icon md-icon"></span>
            Services
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developers/services/backup-manager/">
<span class="md-ellipsis">
    Backup Manager
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developers/services/closeable-service/">
<span class="md-ellipsis">
    Closeable Service
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developers/services/datum-data-source-poll-job/">
<span class="md-ellipsis">
    Datum Data Source Poll Job
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developers/services/datum-data-source/">
<span class="md-ellipsis">
    Datum Data Source
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developers/services/datum-db/">
<span class="md-ellipsis">
    Datum Database
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developers/services/datum-queue/">
<span class="md-ellipsis">
    Datum Queue
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developers/services/job-scheduler/">
<span class="md-ellipsis">
    Job Scheduler
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developers/services/placeholder-service/">
<span class="md-ellipsis">
    Placeholder Service
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developers/services/settings-db/">
<span class="md-ellipsis">
    Settings Database
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developers/services/settings-service/">
<span class="md-ellipsis">
    Settings Service
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developers/services/sql-database/">
<span class="md-ellipsis">
    SQL Database
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developers/services/task-executor/">
<span class="md-ellipsis">
    Task Executor
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developers/services/task-scheduler/">
<span class="md-ellipsis">
    Task Scheduler
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#use">
<span class="md-ellipsis">
      Use
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#csv-configurer">
<span class="md-ellipsis">
      CSV Configurer
    </span>
</a>
<nav aria-label="CSV Configurer" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#modbus-csv-configuration-format">
<span class="md-ellipsis">
      Modbus CSV Configuration Format
    </span>
</a>
<nav aria-label="Modbus CSV Configuration Format" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#instance-identifiers">
<span class="md-ellipsis">
      Instance identifiers
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#csv-column-definition">
<span class="md-ellipsis">
      CSV column definition
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#example-csv">
<span class="md-ellipsis">
      Example CSV
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#settings">
<span class="md-ellipsis">
      Settings
    </span>
</a>
<nav aria-label="Settings" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#overall-settings-notes">
<span class="md-ellipsis">
      Overall settings notes
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#metadata-settings">
<span class="md-ellipsis">
      Metadata settings
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#datum-property-settings">
<span class="md-ellipsis">
      Datum property settings
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#expressions">
<span class="md-ellipsis">
      Expressions
    </span>
</a>
<nav aria-label="Expressions" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#expression-root-object">
<span class="md-ellipsis">
      Expression root object
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#expression-examples">
<span class="md-ellipsis">
      Expression examples
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#sub-sampling">
<span class="md-ellipsis">
      Sub-sampling
    </span>
</a>
<nav aria-label="Sub-sampling" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#sub-sample-filter-properties">
<span class="md-ellipsis">
      Sub-sample filter properties
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="modbus-device"><span class="enumerate-headings-plugin enumerate-heading-plugin">29.</span> Modbus Device<a class="headerlink" href="#modbus-device" title="Permanent link">¶</a></h1>
<p>This project provides SolarNode plugin that can collect arbitrary data from Modbus enabled devices.
This is an advanced plugin that requires specific low-level knowledge of the device you want to
collect data from.</p>
<p>This datum source is provided by the <a href="https://github.com/SolarNetwork/solarnetwork-node/tree/develop/net.solarnetwork.node.datum.modbus">Modbus Datum Source</a> plugin, which is included in the
<a href="https://github.com/SolarNetwork/solarnode-os-packages/tree/develop/solarnode-app-modbus/debian">solarnode-app-modbus</a> package in SolarNodeOS.</p>
<h2 id="use"><span class="enumerate-headings-plugin enumerate-heading-plugin">29.1</span> Use<a class="headerlink" href="#use" title="Permanent link">¶</a></h2>
<p>Once installed, a new <strong>Modbus Device</strong> component will appear on the <a href="../../setup-app/settings/components/">Settings &gt;
Components</a> page on your SolarNode. Click on the <strong>Manage</strong> button to configure devices.
You'll need to add one configuration for each Modbus device you want to collect data from.</p>
<p>You can also configure components with the <a href="#csv-configurer">CSV Configurer</a>, detailed in the
following section.</p>
<h2 id="csv-configurer"><span class="enumerate-headings-plugin enumerate-heading-plugin">29.2</span> CSV Configurer<a class="headerlink" href="#csv-configurer" title="Permanent link">¶</a></h2>
<p>This plugin provides a <strong>Modbus Device CSV Configurer</strong> service will appear on the <a href="../../setup-app/settings/services/">Settings &gt;
Services</a> page. This service lets you upload a Modbus CSV Configuration file to configure
all Modbus Device components, without having to use the <a href="#settings">settings</a> form directly.</p>
<figure>
<p><img alt="CSV Configurer settings" loading="lazy" src="../../../images/users/datum-sources/modbus-device-csv-configurer%402x.png" width="872"/></p>
</figure>
<h3 id="modbus-csv-configuration-format"><span class="enumerate-headings-plugin enumerate-heading-plugin">29.2.1</span> Modbus CSV Configuration Format<a class="headerlink" href="#modbus-csv-configuration-format" title="Permanent link">¶</a></h3>
<p>The Modbus CSV Configuration uses the column structure detailed <a href="#csv-column-definition">below</a>,
with each row representing an individual datum property to read from the Modbus device. A header row
is required. Comment lines are allowed, just start the line with a <code>#</code> character (i.e. the first
cell value). The entire comment line will be ignored.</p>
<p>Here's an example screen shot of a configuration in a spreadsheet application. It is for two devices:</p>
<ol>
<li>Device <code>P1</code> with 4 datum properties: <code>error</code>, <code>current</code>, <code>voltage</code>, and <code>wattHours</code></li>
<li>Device <code>P2</code> with 2 datum properties: <code>frequency</code> and <code>watts</code></li>
</ol>
<p>Spreadsheet applications generally allows you to export the sheet in the CSV format, which can
then be loaded into SolarNode via the CSV Configurer.</p>
<figure>
<p><img alt="CSV Configuration example" loading="lazy" src="../../../images/users/datum-sources/modbus-device-csv-configuration-example-sheet%402x.png" width="1597"/></p>
</figure>
<div class="admonition tip example sheet">
<p class="admonition-title">Tip</p>
<p>You can copy this <a href="https://docs.google.com/spreadsheets/d/1nMHfiGQa0la1AI8Ch3T0-PeZIEsWZymRDyi1PdUl7z4">example sheet</a> to get started.</p>
</div>
<h4 id="instance-identifiers"><span class="enumerate-headings-plugin enumerate-heading-plugin">29.2.1.1</span> Instance identifiers<a class="headerlink" href="#instance-identifiers" title="Permanent link">¶</a></h4>
<p>Individual Modbus Device components are defined by the first column (<strong>Instance ID</strong>). You can
assign any identifier you like (such as <code>Meter</code>, <code>Inverter</code>, and so on) or configure as a single
dash character <code>-</code> to have SolarNode assign a simple number identifier. Once an Instance ID has been
assigned on a given row, subsequent rows will use that value if the corresponding cell value is left
empty.</p>
<p>Here's an example of how 3 custom instance IDs <code>Meter</code>, <code>Pyranometer</code>, and <code>Weather</code> appear in the
SolarNode UI:</p>
<figure>
<p><img alt="Modbus Device instance names" loading="lazy" src="../../../images/users/datum-sources/modbus-device-named-component-instances%402x.png" width="972"/></p>
</figure>
<h4 id="csv-column-definition"><span class="enumerate-headings-plugin enumerate-heading-plugin">29.2.1.2</span> CSV column definition<a class="headerlink" href="#csv-column-definition" title="Permanent link">¶</a></h4>
<p>The following table defines all the CSV columns used by Modbus Device CSV Configuration. Columns
<strong>A - H</strong> apply to the <strong>entire Modbus Device configuration</strong>, and only the values from the row that
defines a new Instance ID will be used to configure the device. Thus you can omit the values from
these columns when defining more than one property for a given device.</p>
<p>Columns <strong>I - Q</strong> define the mapping of Modbus registers to datum properties: each row defines an
individual datum property.</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Col</th>
<th style="text-align: left;">Name</th>
<th style="text-align: left;">Type</th>
<th style="text-align: left;">Default</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>A</code></td>
<td style="text-align: left;"><strong>Instance ID</strong></td>
<td style="text-align: left;">string</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">The unique identifier for a single Modbus Device component. Can specify <code>-</code> to automatically assign a simple number value, which will start at <code>1</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>B</code></td>
<td style="text-align: left;"><strong>Source ID</strong></td>
<td style="text-align: left;">string</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">The SolarNetwork datum source ID to use for the datum stream generated by this device configuration.</td>
</tr>
<tr>
<td style="text-align: left;"><code>C</code></td>
<td style="text-align: left;"><strong>Schedule</strong></td>
<td style="text-align: left;">string</td>
<td style="text-align: left;"><code>0 * * * * *</code></td>
<td style="text-align: left;">The schedule at which to poll the Modbus device for data. Can be either a <a href="https://github.com/SolarNetwork/solarnetwork/wiki/SolarNode-Cron-Job-Syntax">cron</a> value or a millisecond frequency.</td>
</tr>
<tr>
<td style="text-align: left;"><code>D</code></td>
<td style="text-align: left;"><strong>Connection</strong></td>
<td style="text-align: left;">string</td>
<td style="text-align: left;"><code>Modbus Port</code></td>
<td style="text-align: left;">The <strong>Service Name</strong> of the <a href="../../io/modbus/">Modbus connection</a> to use.</td>
</tr>
<tr>
<td style="text-align: left;"><code>E</code></td>
<td style="text-align: left;"><strong>Unit ID</strong></td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;"><code>1</code></td>
<td style="text-align: left;">The Modbus unit ID of the device to collect data from (1 - 255).</td>
</tr>
<tr>
<td style="text-align: left;"><code>F</code></td>
<td style="text-align: left;"><strong>Sample Cache</strong></td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;"><code>5000</code></td>
<td style="text-align: left;">A minimum time to cache captured Modbus data, in milliseconds.</td>
</tr>
<tr>
<td style="text-align: left;"><code>G</code></td>
<td style="text-align: left;"><strong>Max Read</strong></td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;"><code>64</code></td>
<td style="text-align: left;">The maximum number of Modbus registers to request at once.</td>
</tr>
<tr>
<td style="text-align: left;"><code>H</code></td>
<td style="text-align: left;"><strong>Word Order</strong></td>
<td style="text-align: left;">enum</td>
<td style="text-align: left;"><code>Most to least</code></td>
<td style="text-align: left;">For multi-register data types, the ordering to use when combining them. Must be either <code>Most to least</code> or <code>Least to most</code>, and can be shortened to just <code>m</code> or <code>l</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>I</code></td>
<td style="text-align: left;"><strong>Property</strong></td>
<td style="text-align: left;">string</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">The name of the datum property to save the Modbus value as.</td>
</tr>
<tr>
<td style="text-align: left;"><code>J</code></td>
<td style="text-align: left;"><strong>Property Type</strong></td>
<td style="text-align: left;">enum</td>
<td style="text-align: left;"><code>Instantaneous</code></td>
<td style="text-align: left;">The type of datum property to use. Must be one of <code>Instantaneous</code>, <code>Accumulating</code>, <code>Status</code>, <code>Tag</code>, or <code>Metadata</code>, and can be shortened to just <code>i</code>, <code>a</code>, <code>s</code>, <code>t</code>, or <code>m</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>K</code></td>
<td style="text-align: left;"><strong>Register</strong></td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">The register address to read Modbus data from (zero-based). For multi-register data types this is the <em>first</em> register to read from.</td>
</tr>
<tr>
<td style="text-align: left;"><code>L</code></td>
<td style="text-align: left;"><strong>Register Type</strong></td>
<td style="text-align: left;">enum</td>
<td style="text-align: left;"><code>Holding</code></td>
<td style="text-align: left;">The Modbus read function to execute. Must be one of <code>Coil</code>, <code>Discrete Input</code>, <code>Holding</code>, or <code>Input</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>M</code></td>
<td style="text-align: left;"><strong>Data Type</strong></td>
<td style="text-align: left;">enum</td>
<td style="text-align: left;"><code>32-bit float</code></td>
<td style="text-align: left;">The type of data to expect from the read Modbus register(s). Must be one of <code>Boolean</code> or <code>bit</code>, <code>16-bit float</code> or <code>f16</code>, <code>32-bit float</code> or <code>f32</code>, <code>16-bit signed int</code> or <code>i16</code>, <code>16-bit unsigned int</code> or <code>u16</code>, <code>32-bit signed int</code> or <code>i32</code>, <code>32-bit unsigned int</code> or <code>u32</code>, <code>64-bit signed int</code> or <code>i64</code>, <code>64-bit unsigned int</code> or <code>u16</code>, <code>Bytes</code> or <code>b</code>, <code>String UTF-8</code> or <code>s</code>, <code>String ASCII</code> or <code>a</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>N</code></td>
<td style="text-align: left;"><strong>Data Length</strong></td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">For variable length data types such as strings, the number of Modbus registers to read.</td>
</tr>
<tr>
<td style="text-align: left;"><code>O</code></td>
<td style="text-align: left;"><strong>Multiplier</strong></td>
<td style="text-align: left;">decimal</td>
<td style="text-align: left;"><code>1</code></td>
<td style="text-align: left;">For numeric data types, a multiplier to apply to the Modbus value to normalize it into a standard unit.</td>
</tr>
<tr>
<td style="text-align: left;"><code>P</code></td>
<td style="text-align: left;"><strong>Decimal Scale</strong></td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;"><code>0</code></td>
<td style="text-align: left;">For numeric data types, a maximum number of decimal places to round decimal numbers to, or <code>-1</code> to not do any rounding.</td>
</tr>
<tr>
<td style="text-align: left;"><code>Q</code></td>
<td style="text-align: left;"><strong>Expression</strong></td>
<td style="text-align: left;">string</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">An <a href="#expressions">expression</a>. If configured, columns K - P are ignored.</td>
</tr>
</tbody>
</table>
<h3 id="example-csv"><span class="enumerate-headings-plugin enumerate-heading-plugin">29.2.2</span> Example CSV<a class="headerlink" href="#example-csv" title="Permanent link">¶</a></h3>
<p>Here is the CSV as shown in the example configuration screen shot above (comments have been
removed for brevity):</p>
<div class="highlight"><pre><span></span><code>Instance ID,Source ID,Schedule,Connection,Unit ID,Sample Cache,Max Read,Word Order,Property,Property Type,Register,Register Type,Data Type,Data Length,Multiplier,Decimal Scale,Expression
P1,power/1,0 * * * * *,Modbus Port,1,5000,64,Most to least,,,,,,,,,
,,,,,,,,error,Status,1000,Holding,String ASCII,16,,,
,,,,,,,,current,Instantaneous,0,Holding,32-bit float,,1,-1,
,,,,,,,,voltage,Instantaneous,2,Holding,32-bit float,,1,1,
,,,,,,,,wattHours,Accumulating,70,Holding,64-bit unsigned int,,,,
P2,power/2,0 * * * * *,Modbus Port,2,5000,64,Most to least,frequency,Instantaneous,10,Input,16-bit unsigned int,,0.01,,
,,,,,,,,watts,Instantaneous,11,Input,32-bit unsigned int,,,,
</code></pre></div>
<h2 id="settings"><span class="enumerate-headings-plugin enumerate-heading-plugin">29.3</span> Settings<a class="headerlink" href="#settings" title="Permanent link">¶</a></h2>
<figure>
<p><img alt="Modbus Device Datum Source settings" loading="lazy" src="../../../images/users/datum-sources/modbus-device-settings%402x.png" width="874"/></p>
</figure>
<p>Each configuration contains the following overall settings:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Setting</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Schedule</td>
<td style="text-align: left;">A <a href="https://github.com/SolarNetwork/solarnetwork/wiki/SolarNode-Cron-Job-Syntax">cron schedule</a> that determines when data is collected, or millisecond frequency.</td>
</tr>
<tr>
<td style="text-align: left;">Service Name</td>
<td style="text-align: left;">A unique name to identify this data source with.</td>
</tr>
<tr>
<td style="text-align: left;">Service Group</td>
<td style="text-align: left;">A group name to associate this data source with.</td>
</tr>
<tr>
<td style="text-align: left;">Modbus Connection</td>
<td style="text-align: left;">The <strong>Service Name</strong> of the <a href="../../io/modbus/">Modbus connection</a> to use.</td>
</tr>
<tr>
<td style="text-align: left;">Modbus Unit ID</td>
<td style="text-align: left;">The ID of the Modbus device to collect data from, from 1 - 255.</td>
</tr>
<tr>
<td style="text-align: left;">Source ID</td>
<td style="text-align: left;">The SolarNetwork unique source ID to assign to datum collected from this device.</td>
</tr>
<tr>
<td style="text-align: left;">Sample Maximum Age</td>
<td style="text-align: left;">A minimum time to cache captured Modbus data, in milliseconds.</td>
</tr>
<tr>
<td style="text-align: left;">Max Read Length</td>
<td style="text-align: left;">The maximum number of Modbus registers to request at once.</td>
</tr>
<tr>
<td style="text-align: left;">Word Order</td>
<td style="text-align: left;">For multi-register data types, the ordering to use when combining them.</td>
</tr>
<tr>
<td style="text-align: left;">Datum Filter Service</td>
<td style="text-align: left;">The <strong>Service Name</strong> of a datum filter to apply. <strong>Note</strong> that configuring global <a href="../../datum-filters/">datum filters</a> is generally more flexible.</td>
</tr>
<tr>
<td style="text-align: left;">Sub-sample Frequency</td>
<td style="text-align: left;">If configured, the frequency at which samples should be collected from the device, in milliseconds. Set to <code>0</code> (or empty) to disable. Typically this would be combined with a <strong>Datum Filter Service</strong> to transform the sub-samples. See the <a href="#sub-sampling">Sub-sampling</a> section for more information. <strong>Note</strong> that the <a href="../../datum-filters/downsample/">Downsample Filter</a> can be used to accomplish the same thing.</td>
</tr>
</tbody>
</table>
<h3 id="overall-settings-notes"><span class="enumerate-headings-plugin enumerate-heading-plugin">29.3.1</span> Overall settings notes<a class="headerlink" href="#overall-settings-notes" title="Permanent link">¶</a></h3>
<dl>
<dt>Modbus Port</dt>
<dd>This is the <i>Service Name</i> of the Modbus component configured elsewhere
    in SolarNode. You must configure that component with the proper connection settings
    for your Modbus network, configure a unique service name on that component, and then
    enter that same service name here.</dd>
<dt>Source ID</dt>
<dd>This value unique identifies the data collected from this device, by this node,
     on SolarNetwork. Each configured device should use a different value.</dd>
<dt>Sample Maximum Age</dt>
<dd>SolarNode will cache the data collected from the Modbus device for at least
    this amount of time before refreshing data from the device again. Some devices
    do not refresh their values more than a fixed interval, so this setting can be
    used to avoid reading data unnecessarily. This setting also helps in highly
    dynamic configurations where other plugins request the current values from
    the device frequently.</dd>
<dt>Max Read Length</dt>
<dd>This plugin will try to read as many adjacent Modbus registers as possible
    when requesting data from the device. Some devices have trouble returning large
    numbers of registers at once, however. Configuring this setting to a smaller
    value will cause the plugin to make multiple smaller requests for data when
    necessary to work better with those devices.</dd>
</dl>
<h3 id="metadata-settings"><span class="enumerate-headings-plugin enumerate-heading-plugin">29.3.2</span> Metadata settings<a class="headerlink" href="#metadata-settings" title="Permanent link">¶</a></h3>
<p>Metadata settings allow you to add datum source metadata to the configured datum stream.</p>
<figure>
<p><img alt="Metadata settings" loading="lazy" src="../../../images/users/datum-sources/modbus-device-metadata-settings%402x.png" width="874"/></p>
</figure>
<p>Each metadata configuration contains the following settings:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Setting</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Name</td>
<td style="text-align: left;">The metadata key. If starts with a <code>/</code> then will be treated as a <a href="https://github.com/SolarNetwork/solarnetwork/wiki/SolarNet-API-global-objects#metadata-filter-key-paths">key-path</a>. Valid paths start with one of <code>/m/</code>, <code>/pm/</code>, and <code>/t</code>.</td>
</tr>
<tr>
<td style="text-align: left;">Value</td>
<td style="text-align: left;">The metadata value.</td>
</tr>
</tbody>
</table>
<h3 id="datum-property-settings"><span class="enumerate-headings-plugin enumerate-heading-plugin">29.3.3</span> Datum property settings<a class="headerlink" href="#datum-property-settings" title="Permanent link">¶</a></h3>
<p>You must configure settings for each datum property you want to collect from each device. You can
configure as many property settings as you like, using the <kbd>+</kbd> and <kbd>-</kbd> buttons to
add/remove property configurations.</p>
<figure>
<p><img alt="Property settings" loading="lazy" src="../../../images/users/datum-sources/modbus-device-property-settings%402x.png" width="872"/></p>
</figure>
<p>Each property configuration contains the following settings:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Setting</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Property</td>
<td style="text-align: left;">The name of the datum property to save the Modbus value as. Property names represent what the associated data value is, and SolarNetwork has many standardized names that you should consider using. For example the <a href="https://github.com/SolarNetwork/solarnetwork-node/blob/master/net.solarnetwork.node/src/net/solarnetwork/node/domain/EnergyDatum.java">EnergyDatum</a> class defines properties such as <code>watts</code> and  <code>wattHours</code> for electrical energy. <img alt="⚠" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/26a0.svg" title=":warning:"/> See the note about the <strong>Metadata</strong> property type for more information about the property name syntax for that type.</td>
</tr>
<tr>
<td style="text-align: left;">Property Type</td>
<td style="text-align: left;">The type of datum property to use. Each property must be categorized as <code>Accumulating</code>, <code>Instantaneous</code>, <code>Status</code>, or <code>Metadata</code>. <strong>Accumulating</strong> is used for properties that record a value that accumulates over time, such as <code>wattHours</code> captured from a power meter. <strong>Instantaneous</strong> is used for properties that capture values that record independent values over time, such as <code>watts</code>. <strong>Status</strong> is used for non-numeric values such as string status messages. <strong>Metadata</strong> is for mostly unchanging data, like a device serial number or firmware version. The property names for metadata should be a <a href="https://github.com/SolarNetwork/solarnetwork/wiki/SolarNet-API-global-objects#metadata-filter-key-paths">metadata path</a>, for example <code>/pm/deviceInfo/serialNumber</code>.</td>
</tr>
<tr>
<td style="text-align: left;">Modbus Address</td>
<td style="text-align: left;">The starting register address to read Modbus data from (zero-based).</td>
</tr>
<tr>
<td style="text-align: left;">Modbus Function</td>
<td style="text-align: left;">The Modbus read function to execute.</td>
</tr>
<tr>
<td style="text-align: left;">Data Type</td>
<td style="text-align: left;">The type of data to expect from the read Modbus register(s). The data type to interpret the values captured from the Modbus registers as. <strong>Note</strong> that only the <strong>Status</strong> and <strong>Metadata</strong> property types can accept non-numeric data types such as strings.</td>
</tr>
<tr>
<td style="text-align: left;">Data Length</td>
<td style="text-align: left;">For variable length data types such as strings, the number of Modbus registers to read.</td>
</tr>
<tr>
<td style="text-align: left;">Unit Multiplier</td>
<td style="text-align: left;">For numeric data types, a multiplier to apply to the Modbus value to normalize it into a standard unit. The property values stored in SolarNetwork should be normalized into standard base units if possible. For example if a power meter reports power in <em>kilowattts</em> then a unit multiplier of <code>1000</code> can be used to convert the values into <em>watts</em>.</td>
</tr>
<tr>
<td style="text-align: left;">Decimal Scale</td>
<td style="text-align: left;">For numeric data types, a maximum number of decimal places to round decimal numbers to, or <code>-1</code> to not do any rounding. This setting will round decimal numbers to at most this number of decimal places. Setting to <code>0</code> rounds decimals to whole numbers. Setting to <code>-1</code> disables rounding completely.</td>
</tr>
</tbody>
</table>
<h3 id="expressions"><span class="enumerate-headings-plugin enumerate-heading-plugin">29.3.4</span> Expressions<a class="headerlink" href="#expressions" title="Permanent link">¶</a></h3>
<p>Properties can be defined using <a href="../../expressions/">expressions</a>. Expressions allow you to configure datum
properties that are dynamically calculated from other properties or raw Modbus register values.</p>
<figure>
<p><img alt="Expressions settings" loading="lazy" src="../../../images/users/datum-sources/modbus-device-expression-settings%402x.png" width="872"/></p>
</figure>
<h4 id="expression-root-object"><span class="enumerate-headings-plugin enumerate-heading-plugin">29.3.4.1</span> Expression root object<a class="headerlink" href="#expression-root-object" title="Permanent link">¶</a></h4>
<p>The root object is a <code>DatumExpressionRoot</code> that lets you treat all datum properties as expression
variables directly. See the <a href="https://github.com/SolarNetwork/solarnetwork/wiki/SolarNode-Expressions">SolarNode Expressions</a> guide for more information. In
addition, the following properties are available:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Property</th>
<th style="text-align: left;">Type</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>datum</code></td>
<td style="text-align: left;"><code>GeneralNodeDatum</code></td>
<td style="text-align: left;">A <a href="https://github.com/SolarNetwork/solarnetwork-node/blob/develop/net.solarnetwork.node/src/net/solarnetwork/node/domain/GeneralNodeDatum.java"><code>GeneralNodeDatum</code></a> object, populated with data from all property and virtual meter configurations.</td>
</tr>
<tr>
<td style="text-align: left;"><code>props</code></td>
<td style="text-align: left;"><code>Map&lt;String,Object&gt;</code></td>
<td style="text-align: left;">Simple Map based access to the data in <code>datum</code>, to simplify expressions.</td>
</tr>
<tr>
<td style="text-align: left;"><code>sample</code></td>
<td style="text-align: left;"><code>ModbusData</code></td>
<td style="text-align: left;">A <a href="https://github.com/SolarNetwork/solarnetwork-node/blob/develop/net.solarnetwork.node.io.modbus/src/net/solarnetwork/node/io/modbus/ModbusData.java"><code>ModbusData</code></a> object, populated with the raw Modbus holding register data read from the device.</td>
</tr>
<tr>
<td style="text-align: left;"><code>regs</code></td>
<td style="text-align: left;"><code>Map&lt;Integer,Integer&gt;</code></td>
<td style="text-align: left;">Simple Map based access to the register data in <code>sample</code>, to simplify expressions all register values are returned as unsigned 16-bit integers.</td>
</tr>
</tbody>
</table>
<p>Any Modbus registers referenced via <code>reg[x]</code> expressions will be automatically read via the Modbus
<strong>read holding register</strong> function, unless that same register is referenced also in a normal
property configuration, in which case the Modus function defined there will be used.</p>
<h4 id="expression-examples"><span class="enumerate-headings-plugin enumerate-heading-plugin">29.3.4.2</span> Expression examples<a class="headerlink" href="#expression-examples" title="Permanent link">¶</a></h4>
<p>Given raw Modbus holding register data like the following:</p>
<div class="highlight"><pre><span></span><code>[000]: 0xfc1e, 0xf0c3, 0x02e3, 0x68e7, 0x0002, 0x1376, 0x1512, 0xdfee
[200]: 0x44f6, 0xc651, 0x4172, 0xd3d1, 0x6328, 0x8ce7
</code></pre></div>
<p>and assuming a property config that maps register <strong>202</strong> to a 64-bit floating point property <code>bigFloat</code>:</p>
<p>Then here are some example expressions and the results they would produce:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Expression</th>
<th style="text-align: left;">Result</th>
<th style="text-align: left;">Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>regs[0]</code></td>
<td style="text-align: left;"><code>64542</code></td>
<td style="text-align: left;">Returns register <strong>0</strong> directly, which is <code>0xfc1e</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>sample.getInt32(2)</code></td>
<td style="text-align: left;"><code>48457959</code></td>
<td style="text-align: left;">Returns holding registers <strong>2</strong> and <strong>3</strong> combined as a unsigned 32-bit integer <code>0x02e368e7</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>sample.getFloat32(200)</code></td>
<td style="text-align: left;"><code>1974.1974</code></td>
<td style="text-align: left;">Returns holding registers <strong>200</strong> and <strong>201</strong> as a IEEE-754 32-bit floating point: <code>0x44f6c651</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>props['bigFloat'] - regs[0]</code></td>
<td style="text-align: left;"><code>19677432.1974</code></td>
<td style="text-align: left;">Returns difference of register <strong>0</strong> (<code>0xfc1e</code>) from datum property <code>bigFloat</code> (<code>0x4172d3d163288ce7</code>).</td>
</tr>
</tbody>
</table>
<h2 id="sub-sampling"><span class="enumerate-headings-plugin enumerate-heading-plugin">29.4</span> Sub-sampling<a class="headerlink" href="#sub-sampling" title="Permanent link">¶</a></h2>
<p>The <strong>Sub-sample Frequency</strong> setting allows you to configure the datum source to generate datum
(referred to as a <em>sample</em> here) at a higher rate than the normal <strong>Schedule</strong> dictates. This would
typically be combined with the <strong>Datum Filter Service</strong> setting, to enable filtering the sub-sample
datum into some sort of aggregate at the "normal" sample rate.</p>
<p>For example, you might want to collect datum at a rate of <strong>once per minute</strong> but achieve better
accuracy in each property value by capturing several values per minute and only saving the average
of those captured values in SolarNetwork.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p><strong>Note</strong> that this type of average sub-sampling can be achieved more simply by configuring
the <strong>Schedule</strong> of this (or any datum source) to the desired "sub-sample" rate and adding a
<a href="../../datum-filters/downsample/">Downsample Filter</a> with an appropriate <strong>Count</strong> value to reduce the frequency
to your desired "normal" rate.</p>
</div>
<p>Here is an example of the settings you would configure to do this, with a sub-sample rate of
<strong>once per second</strong>:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Setting</th>
<th style="text-align: left;">Value</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>Schedule</strong></td>
<td style="text-align: left;"><code>60000</code></td>
<td style="text-align: left;">Capture "normal" datum once per <strong>minute</strong></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Sub-sample Frequency</strong></td>
<td style="text-align: left;"><code>1000</code></td>
<td style="text-align: left;">Capture "sub-sample" datum once per <strong>second</strong></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Datum Filter Service</strong></td>
<td style="text-align: left;"><code>My Sub-Sample Downsample Filter</code></td>
<td style="text-align: left;">The service name of the filter to apply.</td>
</tr>
</tbody>
</table>
<p>In this example, <strong>My Sub-Sample Throttle Filter</strong> is a <a href="../../datum-filters/downsample/">Downsample Filter</a>
configured with these settings:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Setting</th>
<th style="text-align: left;">Value</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>Service Name</strong></td>
<td style="text-align: left;"><code>My Sub-Sample Downsample Filter</code></td>
<td style="text-align: left;">Same service name used also in the Modbus Device settings</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Sample Count</strong></td>
<td style="text-align: left;"><code>60</code></td>
<td style="text-align: left;">Aggregate 60 samples into 1 output, because we expect 60 samples per minute</td>
</tr>
</tbody>
</table>
<h3 id="sub-sample-filter-properties"><span class="enumerate-headings-plugin enumerate-heading-plugin">29.4.1</span> Sub-sample filter properties<a class="headerlink" href="#sub-sample-filter-properties" title="Permanent link">¶</a></h3>
<p>The configured <strong>Datum Filter Service</strong> will be passed every datum captured, both sub-samples and
"normal" samples. Each sub-sample datum will be passed a special <code>subsample=true</code> parameter,
however, so the filter "knows" which datum are sub-samples and which are "normal" samples.</p>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.annotate", "content.code.copy", "navigation.indexes", "navigation.instant", "navigation.path", "navigation.tracking", "toc.follow"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
<script src="../../../assets/javascripts/bundle.92b07e13.min.js"></script>
<script src="../../../js/open_in_new_tab.js"></script>
</body>
</html>