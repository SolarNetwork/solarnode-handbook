
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="https://solarnetwork.github.io/solarnode-handbook/users/expressions/" rel="canonical"/>
<link href="../remote-access/" rel="prev"/>
<link href="../metrics/" rel="next"/>
<link href="../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.6.0, mkdocs-material-9.5.23" name="generator"/>
<title>Expressions - SolarNode Handbook</title>
<link href="../../assets/stylesheets/main.6543a935.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../../css/sn.css" rel="stylesheet"/>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="amber" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#expressions">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="SolarNode Handbook" class="md-header__button md-logo" data-md-component="logo" href="../.." title="SolarNode Handbook">
<img alt="logo" src="../../images/solarnode-icon.svg"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            SolarNode Handbook
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Expressions
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="amber" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="amber" data-md-color-scheme="slate" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"></path></svg>
</label>
</form>
<script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="SolarNode Handbook" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="SolarNode Handbook">
<img alt="logo" src="../../images/solarnode-icon.svg"/>
</a>
    SolarNode Handbook
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_1" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../">
<span class="md-ellipsis">
    User Guide
  </span>
</a>
<label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="true" aria-labelledby="__nav_1_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_1">
<span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../getting-started/">
<span class="md-ellipsis">
    Getting Started
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_1_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../setup-app/">
<span class="md-ellipsis">
    Setup App
  </span>
</a>
<label class="md-nav__link" for="__nav_1_3" id="__nav_1_3_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_1_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_1_3">
<span class="md-nav__icon md-icon"></span>
            Setup App
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../setup-app/login/">
<span class="md-ellipsis">
    Login
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../setup-app/home/">
<span class="md-ellipsis">
    Home
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_1_3_4" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../setup-app/settings/">
<span class="md-ellipsis">
    Settings
  </span>
</a>
<label class="md-nav__link" for="__nav_1_3_4" id="__nav_1_3_4_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_1_3_4_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_1_3_4">
<span class="md-nav__icon md-icon"></span>
            Settings
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../setup-app/settings/components/">
<span class="md-ellipsis">
    Components
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../setup-app/settings/services/">
<span class="md-ellipsis">
    Services
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../setup-app/settings/datum-filters/">
<span class="md-ellipsis">
    Datum Filters
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../setup-app/settings/datum-sources/">
<span class="md-ellipsis">
    Datum Sources
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../setup-app/settings/logging/">
<span class="md-ellipsis">
    Logging
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../setup-app/settings/op-modes/">
<span class="md-ellipsis">
    Operational Modes
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../setup-app/settings/backups/">
<span class="md-ellipsis">
    Backups
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_1_3_5" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../setup-app/system/">
<span class="md-ellipsis">
    System
  </span>
</a>
<label class="md-nav__link" for="__nav_1_3_5" id="__nav_1_3_5_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_1_3_5_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_1_3_5">
<span class="md-nav__icon md-icon"></span>
            System
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../setup-app/system/certificates/">
<span class="md-ellipsis">
    Certificates
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../setup-app/system/packages/">
<span class="md-ellipsis">
    Packages
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../setup-app/system/host-aliases/">
<span class="md-ellipsis">
    Host Aliases
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../setup-app/system/restart/">
<span class="md-ellipsis">
    Restart
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../setup-app/system/reset/">
<span class="md-ellipsis">
    Reset
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_1_3_6" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../setup-app/tools/">
<span class="md-ellipsis">
    Tools
  </span>
</a>
<label class="md-nav__link" for="__nav_1_3_6" id="__nav_1_3_6_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_1_3_6_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_1_3_6">
<span class="md-nav__icon md-icon"></span>
            Tools
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../setup-app/tools/controls/">
<span class="md-ellipsis">
    Controls
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../setup-app/tools/command-console/">
<span class="md-ellipsis">
    Command Console
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../setup-app/tools/metrics/">
<span class="md-ellipsis">
    Metrics
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../setup-app/profile/">
<span class="md-ellipsis">
    Profile
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../datum/">
<span class="md-ellipsis">
    Datum
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_1_5" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../datum-filters/">
<span class="md-ellipsis">
    Datum Filters
  </span>
</a>
<label class="md-nav__link" for="__nav_1_5" id="__nav_1_5_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_1_5_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_1_5">
<span class="md-nav__icon md-icon"></span>
            Datum Filters
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../datum-filters/chain/">
<span class="md-ellipsis">
    Filter Chain
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../datum-filters/control-updater/">
<span class="md-ellipsis">
    Control Updater
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../datum-filters/downsample/">
<span class="md-ellipsis">
    Downsample
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../datum-filters/expression/">
<span class="md-ellipsis">
    Expression
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../datum-filters/join/">
<span class="md-ellipsis">
    Join
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../datum-filters/metric-harvester/">
<span class="md-ellipsis">
    Metric Harvester
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../datum-filters/op-mode/">
<span class="md-ellipsis">
    Operational Mode
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../datum-filters/parameter-expression/">
<span class="md-ellipsis">
    Parameter Expression
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../datum-filters/property/">
<span class="md-ellipsis">
    Property
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../datum-filters/pvlib/">
<span class="md-ellipsis">
    POAI Calculator
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../datum-filters/split/">
<span class="md-ellipsis">
    Split
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../datum-filters/tariff/">
<span class="md-ellipsis">
    Tariff
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../datum-filters/throttle/">
<span class="md-ellipsis">
    Throttle
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../datum-filters/unchanged-property/">
<span class="md-ellipsis">
    Unchanged Property
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../datum-filters/unchanged/">
<span class="md-ellipsis">
    Unchanged
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../datum-filters/virtual-meter/">
<span class="md-ellipsis">
    Virtual Meter
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../solarflux/">
<span class="md-ellipsis">
    SolarFlux
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_1_7" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../sysadmin/">
<span class="md-ellipsis">
    System Administration
  </span>
</a>
<label class="md-nav__link" for="__nav_1_7" id="__nav_1_7_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_1_7_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_1_7">
<span class="md-nav__icon md-icon"></span>
            System Administration
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../sysadmin/date-time/">
<span class="md-ellipsis">
    Date and Time
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../sysadmin/networking/">
<span class="md-ellipsis">
    Networking
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../sysadmin/packages/">
<span class="md-ellipsis">
    Package Maintenance
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../sysadmin/solarnode-service/">
<span class="md-ellipsis">
    SolarNode Service
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../sysadmin/solarssh/">
<span class="md-ellipsis">
    SolarSSH
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../networking/">
<span class="md-ellipsis">
    Networking
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../security-tokens/">
<span class="md-ellipsis">
    Security Tokens
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../remote-access/">
<span class="md-ellipsis">
    Remote Access
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    Expressions
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    Expressions
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#datum-expressions">
<span class="md-ellipsis">
      Datum Expressions
    </span>
</a>
<nav aria-label="Datum Expressions" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#datum-property-variables">
<span class="md-ellipsis">
      Datum property variables
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#other-variables">
<span class="md-ellipsis">
      Other variables
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#functions">
<span class="md-ellipsis">
      Functions
    </span>
</a>
<nav aria-label="Functions" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#bit-functions">
<span class="md-ellipsis">
      Bit functions
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#date-time-functions">
<span class="md-ellipsis">
      Date time functions
    </span>
</a>
<nav aria-label="Date time functions" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#date-creation-functions">
<span class="md-ellipsis">
      Date creation functions
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#date-manipulation-functions">
<span class="md-ellipsis">
      Date manipulation functions
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#date-range-functions">
<span class="md-ellipsis">
      Date range functions
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#datum-stream-functions">
<span class="md-ellipsis">
      Datum stream functions
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#unfiltered-datum-stream-functions">
<span class="md-ellipsis">
      Unfiltered datum stream functions
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#datum-stream-metadata-functions">
<span class="md-ellipsis">
      Datum stream metadata functions
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#math-functions">
<span class="md-ellipsis">
      Math functions
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#node-metadata-functions">
<span class="md-ellipsis">
      Node metadata functions
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#operational-functions">
<span class="md-ellipsis">
      Operational functions
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#property-functions">
<span class="md-ellipsis">
      Property functions
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tariff-schedule-functions">
<span class="md-ellipsis">
      Tariff schedule functions
    </span>
</a>
<nav aria-label="Tariff schedule functions" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#tariffschedule-object-functions">
<span class="md-ellipsis">
      TariffSchedule object functions
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tariff-object-properties">
<span class="md-ellipsis">
      Tariff object properties
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#rate-object-properties">
<span class="md-ellipsis">
      Rate object properties
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#expression-examples">
<span class="md-ellipsis">
      Expression examples
    </span>
</a>
<nav aria-label="Expression examples" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#datum-stream-history">
<span class="md-ellipsis">
      Datum stream history
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#other-datum-stream-history">
<span class="md-ellipsis">
      Other datum stream history
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#datum-metadata">
<span class="md-ellipsis">
      Datum metadata
    </span>
</a>
<nav aria-label="Datum metadata" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#datum-metadata-properties">
<span class="md-ellipsis">
      Datum metadata properties
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#datum-metadata-general-info-functions">
<span class="md-ellipsis">
      Datum metadata general info functions
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#datum-metadata-property-info-functions">
<span class="md-ellipsis">
      Datum metadata property info functions
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#datum-metadata-global-functions">
<span class="md-ellipsis">
      Datum metadata global functions
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../metrics/">
<span class="md-ellipsis">
    Metrics
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../op-modes/">
<span class="md-ellipsis">
    Operational Modes
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../placeholders/">
<span class="md-ellipsis">
    Placeholders
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/">
<span class="md-ellipsis">
    Configuration
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../settings/">
<span class="md-ellipsis">
    Settings Files
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../logging/">
<span class="md-ellipsis">
    Logging
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../developers/">
<span class="md-ellipsis">
    Developer Guide
  </span>
</a>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            Developer Guide
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../developers/osgi/">
<span class="md-ellipsis">
    Plugins
  </span>
</a>
<label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_2">
<span class="md-nav__icon md-icon"></span>
            Plugins
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../developers/osgi/manifest/">
<span class="md-ellipsis">
    Manifest
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developers/osgi/life-cycle/">
<span class="md-ellipsis">
    Life cycle
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developers/osgi/configuration-admin/">
<span class="md-ellipsis">
    Configuration Admin
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developers/osgi/blueprint/">
<span class="md-ellipsis">
    Blueprint
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developers/osgi/blueprint-compendium/">
<span class="md-ellipsis">
    Blueprint Compendium
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../developers/settings/">
<span class="md-ellipsis">
    Settings
  </span>
</a>
<label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_3">
<span class="md-nav__icon md-icon"></span>
            Settings
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../developers/settings/provider/">
<span class="md-ellipsis">
    Settings Provider
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developers/settings/specifier/">
<span class="md-ellipsis">
    Setting Specifier
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developers/settings/resource-handler/">
<span class="md-ellipsis">
    Setting Resource Handler
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developers/settings/singleton/">
<span class="md-ellipsis">
    Singleton Service
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developers/settings/factory/">
<span class="md-ellipsis">
    Factory Service
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
<span class="md-ellipsis">
    Services
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_4">
<span class="md-nav__icon md-icon"></span>
            Services
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../developers/services/backup-manager/">
<span class="md-ellipsis">
    Backup Manager
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developers/services/closeable-service/">
<span class="md-ellipsis">
    Closeable Service
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developers/services/datum-data-source-poll-job/">
<span class="md-ellipsis">
    Datum Data Source Poll Job
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developers/services/datum-data-source/">
<span class="md-ellipsis">
    Datum Data Source
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developers/services/datum-db/">
<span class="md-ellipsis">
    Datum Database
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developers/services/datum-queue/">
<span class="md-ellipsis">
    Datum Queue
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developers/services/job-scheduler/">
<span class="md-ellipsis">
    Job Scheduler
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developers/services/placeholder-service/">
<span class="md-ellipsis">
    Placeholder Service
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developers/services/settings-db/">
<span class="md-ellipsis">
    Settings Database
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developers/services/settings-service/">
<span class="md-ellipsis">
    Settings Service
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developers/services/sql-database/">
<span class="md-ellipsis">
    SQL Database
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developers/services/task-executor/">
<span class="md-ellipsis">
    Task Executor
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developers/services/task-scheduler/">
<span class="md-ellipsis">
    Task Scheduler
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#datum-expressions">
<span class="md-ellipsis">
      Datum Expressions
    </span>
</a>
<nav aria-label="Datum Expressions" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#datum-property-variables">
<span class="md-ellipsis">
      Datum property variables
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#other-variables">
<span class="md-ellipsis">
      Other variables
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#functions">
<span class="md-ellipsis">
      Functions
    </span>
</a>
<nav aria-label="Functions" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#bit-functions">
<span class="md-ellipsis">
      Bit functions
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#date-time-functions">
<span class="md-ellipsis">
      Date time functions
    </span>
</a>
<nav aria-label="Date time functions" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#date-creation-functions">
<span class="md-ellipsis">
      Date creation functions
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#date-manipulation-functions">
<span class="md-ellipsis">
      Date manipulation functions
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#date-range-functions">
<span class="md-ellipsis">
      Date range functions
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#datum-stream-functions">
<span class="md-ellipsis">
      Datum stream functions
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#unfiltered-datum-stream-functions">
<span class="md-ellipsis">
      Unfiltered datum stream functions
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#datum-stream-metadata-functions">
<span class="md-ellipsis">
      Datum stream metadata functions
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#math-functions">
<span class="md-ellipsis">
      Math functions
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#node-metadata-functions">
<span class="md-ellipsis">
      Node metadata functions
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#operational-functions">
<span class="md-ellipsis">
      Operational functions
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#property-functions">
<span class="md-ellipsis">
      Property functions
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tariff-schedule-functions">
<span class="md-ellipsis">
      Tariff schedule functions
    </span>
</a>
<nav aria-label="Tariff schedule functions" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#tariffschedule-object-functions">
<span class="md-ellipsis">
      TariffSchedule object functions
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tariff-object-properties">
<span class="md-ellipsis">
      Tariff object properties
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#rate-object-properties">
<span class="md-ellipsis">
      Rate object properties
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#expression-examples">
<span class="md-ellipsis">
      Expression examples
    </span>
</a>
<nav aria-label="Expression examples" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#datum-stream-history">
<span class="md-ellipsis">
      Datum stream history
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#other-datum-stream-history">
<span class="md-ellipsis">
      Other datum stream history
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#datum-metadata">
<span class="md-ellipsis">
      Datum metadata
    </span>
</a>
<nav aria-label="Datum metadata" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#datum-metadata-properties">
<span class="md-ellipsis">
      Datum metadata properties
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#datum-metadata-general-info-functions">
<span class="md-ellipsis">
      Datum metadata general info functions
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#datum-metadata-property-info-functions">
<span class="md-ellipsis">
      Datum metadata property info functions
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#datum-metadata-global-functions">
<span class="md-ellipsis">
      Datum metadata global functions
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="expressions"><span class="enumerate-headings-plugin enumerate-heading-plugin">53.</span> Expressions<a class="headerlink" href="#expressions" title="Permanent link">¶</a></h1>
<p>Many SolarNode components support a general "expressions" framework that can be used to calculate
values using a scripting language. SolarNode comes with the <a href="https://github.com/SolarNetwork/solarnetwork/wiki/Spring-Expression-Language">Spel</a> scripting language by
default, so this guide describes that language.</p>
<p>A common use case for expressions is to derive <a href="../datum/">datum</a> property values out of the raw
property values captured from a device. In the SolarNode <a href="../setup-app/">Setup App</a> a typical
datum data source component might present a configurable list of expression settings like this:</p>
<figure>
<p><img alt="Example expression settings" loading="lazy" src="../../images/users/expression-example-settings%402x.png" width="706"/></p>
</figure>
<p>In this example, each time the data source captures a datum from the device it is communicating with
it will add a new <code>watts</code> property by multiplying the captured <code>amps</code> and <code>volts</code> property values.
In essence the expression is like this code:</p>
<div class="highlight"><pre><span></span><code>watts = amps × volts
</code></pre></div>
<h2 id="datum-expressions"><span class="enumerate-headings-plugin enumerate-heading-plugin">53.1</span> Datum Expressions<a class="headerlink" href="#datum-expressions" title="Permanent link">¶</a></h2>
<p>Many SolarNode expressions are evaluated in the context of a <a href="../datum/">datum</a>, typically one captured
from a device SolarNode is collecting data from. In this context, the expression supports accessing
datum properties directly as expression variables, and some helpful functions are provided.</p>
<h3 id="datum-property-variables"><span class="enumerate-headings-plugin enumerate-heading-plugin">53.1.1</span> Datum property variables<a class="headerlink" href="#datum-property-variables" title="Permanent link">¶</a></h3>
<p>All datum properties with <em>simple</em> names can be referred to directly as variables. Here <em>simple</em>
just means a name that is also a <a href="https://github.com/SolarNetwork/solarnetwork/wiki/Spring-Expression-Language#variable-names">legal variable name</a>. The <a href="../datum/#datum-property-classifications">property
classifications</a> do not matter in this context: the expression will look for
properties in all classifications.</p>
<p>For example, given a datum like this:</p>
<div class="highlight"><span class="filename">Example datum representation in JSON</span><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"i"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">"watts"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="mi">123</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">"a"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">"wattHours"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">987654321</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">"s"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">"mode"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"auto"</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>The expression can use the variables <code>watts</code>, <code>wattHours</code>, and <code>mode</code>.</p>
<h3 id="other-variables"><span class="enumerate-headings-plugin enumerate-heading-plugin">53.1.2</span> Other variables<a class="headerlink" href="#other-variables" title="Permanent link">¶</a></h3>
<p>A datum expression will also provide the following variables:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Property</th>
<th style="text-align: left;">Type</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>datum</code></td>
<td style="text-align: left;"><code>Datum</code></td>
<td style="text-align: left;">A <a href="https://github.com/SolarNetwork/solarnetwork-common/blob/develop/net.solarnetwork.common/src/net/solarnetwork/domain/datum/Datum.java"><code>Datum</code></a> object, in case you need direct access to the functions provided there.</td>
</tr>
<tr>
<td style="text-align: left;"><code>locId</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">For location Datum, the location ID of the datum.</td>
</tr>
<tr>
<td style="text-align: left;"><code>meta</code></td>
<td style="text-align: left;"><code>DatumMetadataOperations</code></td>
<td style="text-align: left;">Get <a href="#datum-metadata">datum metadata</a> for the current source ID.</td>
</tr>
<tr>
<td style="text-align: left;"><code>parameters</code></td>
<td style="text-align: left;"><code>Map&lt;String,Object&gt;</code></td>
<td style="text-align: left;">Simple map-based access to all parameters passed to the expression. The available parameters depend on the context of the expression evaluation, but often include things like <a href="../placeholders/">placeholder</a> values or parameters generated by previously evaluated expressions. These values are also available directly as variables, this is rarely needed but can be helpful for accessing dynamically-calculated property names or properties with names that are not legal variable names.</td>
</tr>
<tr>
<td style="text-align: left;"><code>props</code></td>
<td style="text-align: left;"><code>Map&lt;String,Object&gt;</code></td>
<td style="text-align: left;">Simple map based access to all properties in <code>datum</code>. As datum properties are also available directly as variables, this is rarely needed but can be helpful for accessing dynamically-calculated property names or properties with names that are not legal variable names.</td>
</tr>
<tr>
<td style="text-align: left;"><code>sourceId</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;">The source ID of the current datum.</td>
</tr>
</tbody>
</table>
<h3 id="functions"><span class="enumerate-headings-plugin enumerate-heading-plugin">53.1.3</span> Functions<a class="headerlink" href="#functions" title="Permanent link">¶</a></h3>
<p>Some functions are provided to help with datum-related expressions.</p>
<h4 id="bit-functions"><span class="enumerate-headings-plugin enumerate-heading-plugin">53.1.3.1</span> Bit functions<a class="headerlink" href="#bit-functions" title="Permanent link">¶</a></h4>
<p>The following functions help with bitwise integer manipulation operations:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Function</th>
<th style="text-align: left;">Arguments</th>
<th style="text-align: left;">Result</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>and(n1,n2)</code></td>
<td style="text-align: left;"><code>Number</code>, <code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Bitwise and, i.e. <code>(n1 &amp; n2)</code></td>
</tr>
<tr>
<td style="text-align: left;"><code>andNot(n1,n2)</code></td>
<td style="text-align: left;"><code>Number</code>, <code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Bitwise and-not, i.e. <code>(n1 &amp; ~n2)</code></td>
</tr>
<tr>
<td style="text-align: left;"><code>narrow(n,s)</code></td>
<td style="text-align: left;"><code>Number</code>, <code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Return <code>n</code> as a reduced-size but equivalent number of a minimum power-of-two byte size <code>s</code></td>
</tr>
<tr>
<td style="text-align: left;"><code>narrow8(n)</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Return <code>n</code> as a reduced-size but equivalent number narrowed to a minimum of 8-bits</td>
</tr>
<tr>
<td style="text-align: left;"><code>narrow16(n)</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Return <code>n</code> as a reduced-size but equivalent number narrowed to a minimum of 16-bits</td>
</tr>
<tr>
<td style="text-align: left;"><code>narrow32(n)</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Return <code>n</code> as a reduced-size but equivalent number narrowed to a minimum of 32-bits</td>
</tr>
<tr>
<td style="text-align: left;"><code>narrow64(n)</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Return <code>n</code> as a reduced-size but equivalent number narrowed to a minimum of 64-bits</td>
</tr>
<tr>
<td style="text-align: left;"><code>not(n)</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Bitwise not, i.e. <code>(~n)</code></td>
</tr>
<tr>
<td style="text-align: left;"><code>or(n1,n2)</code></td>
<td style="text-align: left;"><code>Number</code>, <code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Bitwise or, i.e. <code>(n1 | n2)</code></td>
</tr>
<tr>
<td style="text-align: left;"><code>shiftLeft(n,c)</code></td>
<td style="text-align: left;"><code>Number</code>, <code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Bitwise shift left, i.e. <code>(n &lt;&lt; c)</code></td>
</tr>
<tr>
<td style="text-align: left;"><code>shiftRight(n,c)</code></td>
<td style="text-align: left;"><code>Number</code>, <code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Bitwise shift left, i.e. <code>(n &gt;&gt; c)</code></td>
</tr>
<tr>
<td style="text-align: left;"><code>testBit(n,i)</code></td>
<td style="text-align: left;"><code>Number</code>, <code>Number</code></td>
<td style="text-align: left;"><code>boolean</code></td>
<td style="text-align: left;">Test if bit <code>i</code> is set in integer <code>n</code>, i.e. <code>((n &amp; (1 &lt;&lt; i)) != 0)</code></td>
</tr>
<tr>
<td style="text-align: left;"><code>xor(n1,n2)</code></td>
<td style="text-align: left;"><code>Number</code>, <code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Bitwise xor, i.e. <code>(n1 ^ n2)</code></td>
</tr>
</tbody>
</table>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>All number arguments will be converted to <code>BigInteger</code> values for the bitwise operations, and
 <code>BigInteger</code> values are returned.</p>
</div>
<h4 id="date-time-functions"><span class="enumerate-headings-plugin enumerate-heading-plugin">53.1.3.2</span> Date time functions<a class="headerlink" href="#date-time-functions" title="Permanent link">¶</a></h4>
<p>The following functions help with creating and manipulating dates. The <code>Temporal</code> type can be thought of as <em>some kind of date</em> type: it could be a <code>LocalDate</code> (a date without any time zone), a <code>LocalDateTime</code> (a date and time without any time zone), a <code>ZonedDateTime</code> (a date and time in a specific time zone), or an <code>Instant</code> (a date and time in the <code>UTC</code> time zone).</p>
<h5 id="date-creation-functions"><span class="enumerate-headings-plugin enumerate-heading-plugin">53.1.3.2.1</span> Date creation functions<a class="headerlink" href="#date-creation-functions" title="Permanent link">¶</a></h5>
<table>
<thead>
<tr>
<th style="text-align: left;">Function</th>
<th style="text-align: left;">Arguments</th>
<th style="text-align: left;">Result</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>chronoUnit(name)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>TemporalUnit</code></td>
<td style="text-align: left;">Returns a <code>TemporalUnit</code> instance for a case-insensitive chronological unit name, one of <code>NANOS</code>, <code>MICROS</code>, <code>MILLIS</code>, <code>SECONDS</code>, <code>MINUTES</code>, <code>HOURS</code>, <code>HALF_DAYS</code>, <code>DAYS</code>, <code>WEEKS</code>, <code>MONTHS</code>, <code>YEARS</code>, <code>DECADES</code>, <code>CENTURIES</code>, <code>MILLENNIA</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>date(value)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>LocalDate</code></td>
<td style="text-align: left;">Construct a date instance from a string in the form <code>YYYY-MM-DD</code>, for example <code>date('2024-11-21')</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>date(year, month, day)</code></td>
<td style="text-align: left;"><code>int</code>, <code>int</code>, <code>int</code></td>
<td style="text-align: left;"><code>LocalDate</code></td>
<td style="text-align: left;">Construct a date instance for a given year, month (1-12) and day (1-31).</td>
</tr>
<tr>
<td style="text-align: left;"><code>date(year, month, day, hour,  minute)</code></td>
<td style="text-align: left;"><code>int</code>, <code>int</code>, <code>int</code>, <code>int</code>, <code>int</code></td>
<td style="text-align: left;"><code>LocalDateTime</code></td>
<td style="text-align: left;">Construct a date and time instance for a given year, month (1-12), day (1-31), hour (0-23), and minute (0-59).</td>
</tr>
<tr>
<td style="text-align: left;"><code>date(year, month, day, hour,  minute, second)</code></td>
<td style="text-align: left;"><code>int</code>, <code>int</code>, <code>int</code>, <code>int</code>, <code>int</code>, <code>int</code></td>
<td style="text-align: left;"><code>LocalDateTime</code></td>
<td style="text-align: left;">Construct a date and time instance for a given year, month (1-12), day (1-31), hour (0-23), minute (0-59), and second (0-59).</td>
</tr>
<tr>
<td style="text-align: left;"><code>duration(amount)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>TemporalAmount</code></td>
<td style="text-align: left;">Parse an ISO 8601 style period or duration into a <code>TemporalAmount</code>.  The period syntax supports <code>PnYnMnD</code> and <code>PnW</code>, where <code>n</code> is a number of years <code>Y</code>, months <code>M</code>, days <code>D</code>, or weeks <code>W</code>. For example <code>P1Y2M3D</code> represents 1 year and 2 months and 3 days, or <code>P7D</code> 7 days, or <code>P4W</code> 4 weeks. The duration syntax supports <code>PnDTnHnMn.nS</code> where <code>n</code> is a number of days <code>D</code>, hours <code>H</code>, minutes <code>M</code>, or fractional seconds <code>S</code>. For example <code>PT15M</code> represents 15 minutes, <code>PT20.345S</code> 20.345 seconds, <code>-P6H3M</code> -6 hours -3 minutes, <code>P-6H3M</code> -6 hours +3 minutes.</td>
</tr>
<tr>
<td style="text-align: left;"><code>now()</code></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"><code>LocalDateTime</code></td>
<td style="text-align: left;">Get the local date and time when invoked.</td>
</tr>
<tr>
<td style="text-align: left;"><code>now(zone)</code></td>
<td style="text-align: left;"><code>ZoneId|String</code></td>
<td style="text-align: left;"><code>LocalDateTime</code></td>
<td style="text-align: left;">Get the date and time in a given time zone when invoked. The <code>zone</code> can be a <code>ZoneId</code> instance or a valid zone identifier as documented in the <code>tz(zoneId)</code> function below.</td>
</tr>
<tr>
<td style="text-align: left;"><code>nowTz()</code></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"><code>ZonedDateTime</code></td>
<td style="text-align: left;">Get the absolute date and time when invoked in the node device's time zone.</td>
</tr>
<tr>
<td style="text-align: left;"><code>nowTz(zone)</code></td>
<td style="text-align: left;"><code>ZoneId|String</code></td>
<td style="text-align: left;"><code>ZonedDateTime</code></td>
<td style="text-align: left;">Get the absolute date and time when invoked in the <code>zone</code> time zone. The <code>zone</code> can be a <code>ZoneId</code> instance or a valid zone identifier as documented in the <code>tz(zoneId)</code> function below.</td>
</tr>
<tr>
<td style="text-align: left;"><code>time(value)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>LocalTime</code></td>
<td style="text-align: left;">Construct a time instance from a string in the form <code>HH:mm:ss.SSS</code>. Only the <code>HH:mm</code> portion is required. For example <code>time('13:45')</code> or <code>time('13:45:43')</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>timestamp()</code></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"><code>Instant</code></td>
<td style="text-align: left;">Get the absolute date and time when invoked, in the <code>UTC</code> time zone.</td>
</tr>
<tr>
<td style="text-align: left;"><code>timestamp(value)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>Instant</code></td>
<td style="text-align: left;">Construct an absolute date and time instance from a string in ISO 8601 form like <code>YYYY-MM-DDTHH:mm:ss.SSS+00:00</code>. Only the <code>YYYY-MM-DD</code> portion is required. For example <code>timestamp('2024-11-21T13:45:43')</code> or <code>timestamp('2024-11-21T13:45:43+13:00')</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>today()</code></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"><code>LocalDate</code></td>
<td style="text-align: left;">Get the local date when invoked in the node device's time zone.</td>
</tr>
<tr>
<td style="text-align: left;"><code>today(zone)</code></td>
<td style="text-align: left;"><code>ZoneId|String</code></td>
<td style="text-align: left;"><code>LocalDate</code></td>
<td style="text-align: left;">Get the local date when invoked in the <code>zone</code> time zone. The <code>zone</code> can be a <code>ZoneId</code> instance or a valid zone identifier as documented in the <code>tz(zoneId)</code> function below.</td>
</tr>
<tr>
<td style="text-align: left;"><code>tz(zoneId)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>ZoneId</code></td>
<td style="text-align: left;">Parse a time zone identifier into a <code>ZoneId</code> instance. Identifiers like <code>Pacific/Auckland</code> and <code>-10:00</code> are supported.</td>
</tr>
</tbody>
</table>
<h5 id="date-manipulation-functions"><span class="enumerate-headings-plugin enumerate-heading-plugin">53.1.3.2.2</span> Date manipulation functions<a class="headerlink" href="#date-manipulation-functions" title="Permanent link">¶</a></h5>
<table>
<thead>
<tr>
<th style="text-align: left;">Function</th>
<th style="text-align: left;">Arguments</th>
<th style="text-align: left;">Result</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>datePlus(date, amount, unit)</code></td>
<td style="text-align: left;"><code>Temporal</code>, <code>long</code>, <code>TemporalUnit|String</code></td>
<td style="text-align: left;"><code>Temporal</code></td>
<td style="text-align: left;">Add a chronological unit of time to a date. The <code>unit</code> can be a <code>TemporalUnit</code> instance or a valid name as documented in the <code>chronoUnit(name)</code> function above. For example: <code>datePlus(date(2024,8,10), 1, "days")</code> adds 1 day to <code>2024-08-10</code> resulting in <code>2024-08-11</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>datePlus(date,  amount)</code></td>
<td style="text-align: left;"><code>Temporal</code>, <code>TemporalAmount|String</code></td>
<td style="text-align: left;"><code>Temporal</code></td>
<td style="text-align: left;">Add a duration to a date. The <code>amount</code> can be a <code>TemporalAmount</code> instance or a valid string representation as documented in the <code>duration(amount)</code> function below. For example: <code>datePlus(date(2024,8,10), "-P1Y")</code> subtracts 1 year from <code>2024-08-10</code> resulting in <code>2023-08-10</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>dateTruncate(date, unit)</code></td>
<td style="text-align: left;"><code>Temporal</code>, <code>TemporalUnit|String</code></td>
<td style="text-align: left;"><code>Temporal</code></td>
<td style="text-align: left;">Round a date down (older) to a given unit. The <code>unit</code> can be a <code>TemporalUnit</code> instance or a valid name as documented in the <code>chronoUnit(name)</code> function above. For example <code>dateTruncate(date(2024,8,10), "months")</code> truncates the date <code>2024-08-10</code> to the month, resulting in <code>2024-08-01</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>dateTz(date)</code></td>
<td style="text-align: left;"><code>LocalDate|LocalDateTime</code></td>
<td style="text-align: left;"><code>ZonedDateTime</code></td>
<td style="text-align: left;">Turns a local date, or local date and time, into an absolute date and time in the node device's time zone. If a <code>LocalDate</code> is given, the resulting time will be set to midnight of the given date. For example, for a node device in the <code>Pacific/Auckland</code> time zone <code>dateTz(date(2024,8,10))</code> returns <code>2024-08-10 00:00 +12:00</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>dateTz(date, zone)</code></td>
<td style="text-align: left;"><code>LocalDate|LocalDateTime</code>, <code>ZoneId|String</code></td>
<td style="text-align: left;"><code>ZonedDateTime</code></td>
<td style="text-align: left;">Turn a local date, or local date and time, into an absolute date and time in a given time zone. If a <code>LocalDate</code> is given, the resulting time will be set to midnight of the given <code>date</code>. The <code>zone</code> can be a <code>ZoneId</code> instance or a valid zone identifier as documented in the <code>tz(zoneId)</code> function below. For example <code>dateTz(date(2024,8,10), "Pacific/Honolulu")</code> returns <code>2024-08-10 00:00 -10:00</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>local(date)</code></td>
<td style="text-align: left;"><code>ZonedDateTime</code></td>
<td style="text-align: left;"><code>LocalDateTime</code></td>
<td style="text-align: left;">Get the local date and time from a zoned date and time.</td>
</tr>
<tr>
<td style="text-align: left;"><code>localDate(date)</code></td>
<td style="text-align: left;"><code>ZonedDateTime</code></td>
<td style="text-align: left;"><code>LocalDate</code></td>
<td style="text-align: left;">Get the local date from a zoned date and time.</td>
</tr>
<tr>
<td style="text-align: left;"><code>localTime(date)</code></td>
<td style="text-align: left;"><code>ZonedDateTime</code></td>
<td style="text-align: left;"><code>LocalTime</code></td>
<td style="text-align: left;">Get the local time from a zoned date and time.</td>
</tr>
<tr>
<td style="text-align: left;"><code>timestamp(date)</code></td>
<td style="text-align: left;"><code>Temporal</code></td>
<td style="text-align: left;"><code>Instant</code></td>
<td style="text-align: left;">Convert a date or date and time into a timestamp in the node device's time zone.</td>
</tr>
<tr>
<td style="text-align: left;"><code>timestamp(date, zone)</code></td>
<td style="text-align: left;"><code>Temporal</code>, <code>ZoneId|String</code></td>
<td style="text-align: left;"><code>Instant</code></td>
<td style="text-align: left;">Convert a date or date and time into a timestamp in the <code>zone</code> time zone. The <code>zone</code> can be a <code>ZoneId</code> instance or a valid zone identifier as documented in the <code>tz(zoneId)</code> function below.</td>
</tr>
</tbody>
</table>
<h5 id="date-range-functions"><span class="enumerate-headings-plugin enumerate-heading-plugin">53.1.3.2.3</span> Date range functions<a class="headerlink" href="#date-range-functions" title="Permanent link">¶</a></h5>
<table>
<thead>
<tr>
<th style="text-align: left;">Function</th>
<th style="text-align: left;">Arguments</th>
<th style="text-align: left;">Result</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>durationBetween(date1,date1)</code></td>
<td style="text-align: left;"><code>Temporal</code>, <code>Temporal</code></td>
<td style="text-align: left;"><code>Duration</code></td>
<td style="text-align: left;">Calculate the duration between two dates.</td>
</tr>
<tr>
<td style="text-align: left;"><code>secondsBetween(date1,date1)</code></td>
<td style="text-align: left;"><code>Temporal</code>, <code>Temporal</code></td>
<td style="text-align: left;"><code>long</code></td>
<td style="text-align: left;">Calculate the number of whole seconds between two dates.</td>
</tr>
<tr>
<td style="text-align: left;"><code>minutesBetween(date1,date1)</code></td>
<td style="text-align: left;"><code>Temporal</code>, <code>Temporal</code></td>
<td style="text-align: left;"><code>long</code></td>
<td style="text-align: left;">Calculate the number of whole minutes between two dates.</td>
</tr>
<tr>
<td style="text-align: left;"><code>hoursBetween(date1,date1)</code></td>
<td style="text-align: left;"><code>Temporal</code>, <code>Temporal</code></td>
<td style="text-align: left;"><code>long</code></td>
<td style="text-align: left;">Calculate the number of whole hours between two dates.</td>
</tr>
<tr>
<td style="text-align: left;"><code>daysBetween(date1,date1)</code></td>
<td style="text-align: left;"><code>Temporal</code>, <code>Temporal</code></td>
<td style="text-align: left;"><code>long</code></td>
<td style="text-align: left;">Calculate the number of whole days between two dates.</td>
</tr>
<tr>
<td style="text-align: left;"><code>monthsBetween(date1,date1)</code></td>
<td style="text-align: left;"><code>Temporal</code>, <code>Temporal</code></td>
<td style="text-align: left;"><code>double</code></td>
<td style="text-align: left;">Calculate the number of fractional months between two dates.</td>
</tr>
<tr>
<td style="text-align: left;"><code>yearsBetween(date1,date1)</code></td>
<td style="text-align: left;"><code>Temporal</code>, <code>Temporal</code></td>
<td style="text-align: left;"><code>double</code></td>
<td style="text-align: left;">Calculate the number of fractional years between two dates.</td>
</tr>
</tbody>
</table>
<h4 id="datum-stream-functions"><span class="enumerate-headings-plugin enumerate-heading-plugin">53.1.3.3</span> Datum stream functions<a class="headerlink" href="#datum-stream-functions" title="Permanent link">¶</a></h4>
<p>The following functions deal with datum streams. The <code>latest()</code> and <code>offset()</code> functions give you
access to recently-captured datum from any SolarNode source, so you can refer to any datum stream
being generated in SolarNode. They return another datum expression root object, which means you have
access to all the variables and functions documented on this page with them as well.</p>
<p>SolarNode only maintains a limited history for each source, so do not rely on more than a few datum
to be available via these method. This history is also cleared when SolarNode restarts.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>These functions operate on datum <strong>after</strong> any configured <a href="../datum-filters/">datum filters</a> have
been applied. See the <a href="#unfiltered-datum-stream-functions">Unfiltered datum stream functions</a>
section for a set of similar functions that operate on datum <strong>before</strong> any filters are applied.</p>
</div>
<table>
<thead>
<tr>
<th style="text-align: left;">Function</th>
<th style="text-align: left;">Arguments</th>
<th style="text-align: left;">Result</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>hasLatest(source)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>boolean</code></td>
<td style="text-align: left;">Returns <code>true</code> if a datum with source ID <code>source</code> is available via the <code>latest(source)</code> function.</td>
</tr>
<tr>
<td style="text-align: left;"><code>hasLatestMatching(pattern)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>Collection&lt;DatumExpressionRoot&gt;</code></td>
<td style="text-align: left;">Returns <code>true</code> if <code>latestMatching(pattern)</code> returns a non-empty collection.</td>
</tr>
<tr>
<td style="text-align: left;"><code>hasLatestOtherMatching(pattern)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>Collection&lt;DatumExpressionRoot&gt;</code></td>
<td style="text-align: left;">Returns <code>true</code> if <code>latestOthersMatching(pattern)</code> returns a non-empty collection.</td>
</tr>
<tr>
<td style="text-align: left;"><code>hasOffset(offset)</code></td>
<td style="text-align: left;"><code>int</code></td>
<td style="text-align: left;"><code>boolean</code></td>
<td style="text-align: left;">Returns <code>true</code> if a datum is available via the <code>offset(offset)</code> function.</td>
</tr>
<tr>
<td style="text-align: left;"><code>hasOffset(source, offset)</code></td>
<td style="text-align: left;"><code>String</code>, <code>int</code></td>
<td style="text-align: left;"><code>boolean</code></td>
<td style="text-align: left;">Returns <code>true</code> if a datum with source ID <code>source</code> is available via the <code>offset(source,int)</code> function.</td>
</tr>
<tr>
<td style="text-align: left;"><code>latest(source)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>DatumExpressionRoot</code></td>
<td style="text-align: left;">Provides access to the latest available datum matching the given source ID, or <code>null</code> if not available. This is a shortcut for calling <code>offset(source,0)</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>latestMatching(pattern)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>Collection&lt;DatumExpressionRoot&gt;</code></td>
<td style="text-align: left;">Return a collection of the latest available datum matching a given source ID <a href="https://github.com/SolarNetwork/solarnetwork/wiki/SolarNet-API-global-objects#wildcard-patterns">wildcard pattern</a>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>latestOthersMatching(pattern)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>Collection&lt;DatumExpressionRoot&gt;</code></td>
<td style="text-align: left;">Return a collection of the latest available datum matching a given source ID <a href="https://github.com/SolarNetwork/solarnetwork/wiki/SolarNet-API-global-objects#wildcard-patterns">wildcard pattern</a>, excluding the current datum if its source ID happens to match the pattern.</td>
</tr>
<tr>
<td style="text-align: left;"><code>offset(offset)</code></td>
<td style="text-align: left;"><code>int</code></td>
<td style="text-align: left;"><code>DatumExpressionRoot</code></td>
<td style="text-align: left;">Provides access to a datum from the same stream as the current datum, offset by <code>offset</code> in time, or <code>null</code> if not available. Offset <code>1</code> means the datum just before this datum, and so on.</td>
</tr>
<tr>
<td style="text-align: left;"><code>offset(source, offset)</code></td>
<td style="text-align: left;"><code>String</code>, <code>int</code></td>
<td style="text-align: left;"><code>DatumExpressionRoot</code></td>
<td style="text-align: left;">Provides access to an offset from the latest available datum matching the given source ID, or <code>null</code> if not available. Offset <code>0</code> represents the "latest" datum, <code>1</code> the one before that, and so on.</td>
</tr>
<tr>
<td style="text-align: left;"><code>selfAndLatestMatching(pattern)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>Collection&lt;DatumExpressionRoot&gt;</code></td>
<td style="text-align: left;">Return a collection of the latest available datum matching a given source ID <a href="https://github.com/SolarNetwork/solarnetwork/wiki/SolarNet-API-global-objects#wildcard-patterns">wildcard pattern</a>, including the current datum. The current datum will always be the first datum returned.</td>
</tr>
<tr>
<td style="text-align: left;"><code>slice(source, offset, count)</code></td>
<td style="text-align: left;"><code>String</code>, <code>int</code>, <code>int</code></td>
<td style="text-align: left;"><code>Collection&lt;DatumExpressionRoot&gt;</code></td>
<td style="text-align: left;">Return a subset of the <code>source</code> datum stream history starting from <code>offset</code> from the latest available datum and including at most <code>count</code> values going backwards in time. The current datum will always be the first datum returned.</td>
</tr>
</tbody>
</table>
<h4 id="unfiltered-datum-stream-functions"><span class="enumerate-headings-plugin enumerate-heading-plugin">53.1.3.4</span> Unfiltered datum stream functions<a class="headerlink" href="#unfiltered-datum-stream-functions" title="Permanent link">¶</a></h4>
<p>The following functions are similar to the <a href="#datum-stream-functions">datum stream functions</a> except
they deal with <strong>unfiltered</strong> datum streams, that is the raw datum captured by SolarNode sources
before any filters have been applied.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>One example where using the unfiltered datum stream functions is useful is when you have an
expression that accesses a property from a datum stream that has a
<a href="../datum-filters/downsample/">Downsample</a> filter applied to it. The <code>unfilteredLatest('meter/1')?.watts</code>
expression would return the most recently <strong>captured</strong> <code>watts</code> value while
<code>latest('meter/1')?.watts</code> would return the most recently <strong>downsampled</strong> <code>watts</code> value.</p>
</div>
<table>
<thead>
<tr>
<th style="text-align: left;">Function</th>
<th style="text-align: left;">Arguments</th>
<th style="text-align: left;">Result</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>hasUnfilteredLatest(source)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>boolean</code></td>
<td style="text-align: left;">Returns <code>true</code> if a datum with source ID <code>source</code> is available via the <code>unfilteredLatest(source)</code> function.</td>
</tr>
<tr>
<td style="text-align: left;"><code>hasUnfilteredLatestMatching(pattern)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>Collection&lt;DatumExpressionRoot&gt;</code></td>
<td style="text-align: left;">Returns <code>true</code> if <code>unfilteredLatestMatching(pattern)</code> returns a non-empty collection.</td>
</tr>
<tr>
<td style="text-align: left;"><code>hasUnfilteredLatestOtherMatching(pattern)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>Collection&lt;DatumExpressionRoot&gt;</code></td>
<td style="text-align: left;">Returns <code>true</code> if <code>unfilteredLatestOthersMatching(pattern)</code> returns a non-empty collection.</td>
</tr>
<tr>
<td style="text-align: left;"><code>hasUnfilteredOffset(offset)</code></td>
<td style="text-align: left;"><code>int</code></td>
<td style="text-align: left;"><code>boolean</code></td>
<td style="text-align: left;">Returns <code>true</code> if a datum is available via the <code>offset(offset)</code> function.</td>
</tr>
<tr>
<td style="text-align: left;"><code>hasUnfilteredOffset(source, offset)</code></td>
<td style="text-align: left;"><code>String</code>, <code>int</code></td>
<td style="text-align: left;"><code>boolean</code></td>
<td style="text-align: left;">Returns <code>true</code> if a datum with source ID <code>source</code> is available via the <code>unfilteredOffset(source,int)</code> function.</td>
</tr>
<tr>
<td style="text-align: left;"><code>unfilteredLatest(source)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>DatumExpressionRoot</code></td>
<td style="text-align: left;">Provides access to the latest available datum matching the given source ID, or <code>null</code> if not available. This is a shortcut for calling <code>unfilteredOffset(source,0)</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>unfilteredLatestMatching(pattern)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>Collection&lt;DatumExpressionRoot&gt;</code></td>
<td style="text-align: left;">Return a collection of the latest available datum matching a given source ID <a href="https://github.com/SolarNetwork/solarnetwork/wiki/SolarNet-API-global-objects#wildcard-patterns">wildcard pattern</a>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>unfilteredLatestOthersMatching(pattern)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>Collection&lt;DatumExpressionRoot&gt;</code></td>
<td style="text-align: left;">Return a collection of the latest available datum matching a given source ID <a href="https://github.com/SolarNetwork/solarnetwork/wiki/SolarNet-API-global-objects#wildcard-patterns">wildcard pattern</a>, excluding the current datum if its source ID happens to match the pattern.</td>
</tr>
<tr>
<td style="text-align: left;"><code>unfilteredOffset(offset)</code></td>
<td style="text-align: left;"><code>int</code></td>
<td style="text-align: left;"><code>DatumExpressionRoot</code></td>
<td style="text-align: left;">Provides access to a datum from the same stream as the current datum, offset by <code>offset</code> in time, or <code>null</code> if not available. Offset <code>1</code> means the datum just before this datum, and so on.</td>
</tr>
<tr>
<td style="text-align: left;"><code>unfilteredOffset(source, offset)</code></td>
<td style="text-align: left;"><code>String</code>, <code>int</code></td>
<td style="text-align: left;"><code>DatumExpressionRoot</code></td>
<td style="text-align: left;">Provides access to an offset from the latest available datum matching the given source ID, or <code>null</code> if not available. Offset <code>0</code> represents the "latest" datum, <code>1</code> the one before that, and so on.</td>
</tr>
<tr>
<td style="text-align: left;"><code>selfAndUnfilteredLatestMatching(pattern)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>Collection&lt;DatumExpressionRoot&gt;</code></td>
<td style="text-align: left;">Return a collection of the latest available datum matching a given source ID <a href="https://github.com/SolarNetwork/solarnetwork/wiki/SolarNet-API-global-objects#wildcard-patterns">wildcard pattern</a>, including the current datum. The current datum will always be the first datum returned.</td>
</tr>
<tr>
<td style="text-align: left;"><code>unfilteredSlice(source, offset, count)</code></td>
<td style="text-align: left;"><code>String</code>, <code>int</code>, <code>int</code></td>
<td style="text-align: left;"><code>Collection&lt;DatumExpressionRoot&gt;</code></td>
<td style="text-align: left;">Return a subset of the <code>source</code> datum stream history starting from <code>offset</code> from the latest available datum and including at most <code>count</code> values going backwards in time. The current datum will always be the first datum returned.</td>
</tr>
</tbody>
</table>
<h4 id="datum-stream-metadata-functions"><span class="enumerate-headings-plugin enumerate-heading-plugin">53.1.3.5</span> Datum stream metadata functions<a class="headerlink" href="#datum-stream-metadata-functions" title="Permanent link">¶</a></h4>
<p>The following functions deal with datum stream metadata.</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Function</th>
<th style="text-align: left;">Arguments</th>
<th style="text-align: left;">Result</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>hasMeta()</code></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"><code>boolean</code></td>
<td style="text-align: left;">Returns <code>true</code> if metadata for the current source ID is available.</td>
</tr>
<tr>
<td style="text-align: left;"><code>hasMeta(source)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>boolean</code></td>
<td style="text-align: left;">Returns <code>true</code> if <code>meta(source)</code> would return a non-null value.</td>
</tr>
<tr>
<td style="text-align: left;"><code>locMeta(locId, source)</code></td>
<td style="text-align: left;"><code>long</code>, <code>String</code></td>
<td style="text-align: left;"><code>DatumMetadataOperations</code></td>
<td style="text-align: left;">Get <a href="#datum-metadata">datum metadata</a> for a specific location datum stream.</td>
</tr>
<tr>
<td style="text-align: left;"><code>meta(source)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>DatumMetadataOperations</code></td>
<td style="text-align: left;">Get <a href="#datum-metadata">datum metadata</a> for a specific source ID.</td>
</tr>
<tr>
<td style="text-align: left;"><code>metaMatching(pattern)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>Collection&lt;DatumMetadataOperations&gt;</code></td>
<td style="text-align: left;">Find <a href="#datum-metadata">datum metadata</a> for sources matching a given source ID <a href="https://github.com/SolarNetwork/solarnetwork/wiki/SolarNet-API-global-objects#wildcard-patterns">wildcard pattern</a>.</td>
</tr>
</tbody>
</table>
<h4 id="math-functions"><span class="enumerate-headings-plugin enumerate-heading-plugin">53.1.3.6</span> Math functions<a class="headerlink" href="#math-functions" title="Permanent link">¶</a></h4>
<p>Expressions support basic <a href="https://github.com/SolarNetwork/solarnetwork/wiki/Spring-Expression-Language-Syntax#mathematical-operators">math operators</a> like <code>+</code> for addition and <code>*</code> for
multiplication. The following functions help with other math operations:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Function</th>
<th style="text-align: left;">Arguments</th>
<th style="text-align: left;">Result</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>avg(collection)</code></td>
<td style="text-align: left;"><code>Collection&lt;Number&gt;</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Calculate the average (mean) of a collection of numbers. Useful when combined with the <code>group(pattern)</code> function.</td>
</tr>
<tr>
<td style="text-align: left;"><code>cbrt(n)</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Calculate the cube root of a number.</td>
</tr>
<tr>
<td style="text-align: left;"><code>ceil(n)</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Round a number larger, to the nearest integer.</td>
</tr>
<tr>
<td style="text-align: left;"><code>ceil(n,significance)</code></td>
<td style="text-align: left;"><code>Number</code>, <code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Round a number larger, to the nearest integer multiple of <code>significance</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>down(n)</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Round numbers towards zero, to the nearest integer.</td>
</tr>
<tr>
<td style="text-align: left;"><code>down(n,significance)</code></td>
<td style="text-align: left;"><code>Number</code>, <code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Round numbers towards zero, to the nearest integer multiple of <code>significance</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>exp(n)</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Returns Euler's number <em>e</em> raised to the power of <code>n</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>floor(n)</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Round a number smaller, to the nearest integer.</td>
</tr>
<tr>
<td style="text-align: left;"><code>floor(n,significance)</code></td>
<td style="text-align: left;"><code>Number</code>, <code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Round a number smaller, to the nearest integer multiple of <code>significance</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>fracPart(n,digits)</code></td>
<td style="text-align: left;"><code>Number</code>, <code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Extract the fractional portion of a decimal number. The optional <code>digits</code> value will round the result to at most this many digits. For example <code>fracPart(123.4567)</code> would return <code>4567</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>interp(x, x1, x2, y1, y2)</code></td>
<td style="text-align: left;"><code>Number</code>, <code>Number</code>, <code>Number</code>, <code>Number</code>, <code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Linearly interpolate <code>x</code> over the range <code>x1</code> to <code>x2</code>, mapped to output range from <code>y1</code> to <code>y2</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>interp(x, x1, x2, y1, y2, scale)</code></td>
<td style="text-align: left;"><code>Number</code>, <code>Number</code>, <code>Number</code>, <code>Number</code>, <code>Number</code>, <code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Linearly interpolate <code>x</code> over the range <code>x1</code> to <code>x2</code>, mapped to output range from <code>y1</code> to <code>y2</code> rounding to at most <code>scale</code> decimal places.</td>
</tr>
<tr>
<td style="text-align: left;"><code>max(collection)</code></td>
<td style="text-align: left;"><code>Collection&lt;Number&gt;</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Return the largest value from a set of numbers.</td>
</tr>
<tr>
<td style="text-align: left;"><code>max(n1,n2)</code></td>
<td style="text-align: left;"><code>Number</code>, <code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Return the larger of two numbers.</td>
</tr>
<tr>
<td style="text-align: left;"><code>min(collection)</code></td>
<td style="text-align: left;"><code>Collection&lt;Number&gt;</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Return the smallest value from a set of numbers.</td>
</tr>
<tr>
<td style="text-align: left;"><code>min(n1,n2)</code></td>
<td style="text-align: left;"><code>Number</code>, <code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Return the smaler of two numbers.</td>
</tr>
<tr>
<td style="text-align: left;"><code>mround(n,significance)</code></td>
<td style="text-align: left;"><code>Number</code>, <code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Round a number to the nearest integer multiple of <code>significance</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>pow(n,p)</code></td>
<td style="text-align: left;"><code>Number</code>, <code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Raise a number <code>n</code> to the power <code>p</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>rms(collection)</code></td>
<td style="text-align: left;"><code>Collection&lt;Number&gt;</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Calculate the root-mean-square of a collection of numbers.</td>
</tr>
<tr>
<td style="text-align: left;"><code>round(n)</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Round a number to the nearest integer.</td>
</tr>
<tr>
<td style="text-align: left;"><code>round(n,digits)</code></td>
<td style="text-align: left;"><code>Number</code>, <code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Round a number to the nearest number with <code>digits</code> decimal digits.</td>
</tr>
<tr>
<td style="text-align: left;"><code>roundDown(n,digits)</code></td>
<td style="text-align: left;"><code>Number</code>, <code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Round a number towards zero to the nearest number with <code>digits</code> decimal digits.</td>
</tr>
<tr>
<td style="text-align: left;"><code>roundUp(n,digits)</code></td>
<td style="text-align: left;"><code>Number</code>, <code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Round a number away from zero to the nearest number with <code>digits</code> decimal digits.</td>
</tr>
<tr>
<td style="text-align: left;"><code>scaled(n,places)</code></td>
<td style="text-align: left;"><code>Number</code>, <code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Shift the decimal point of a number by <code>places</code> digits. Shifts left if <code>n</code> is negative, otherwise right.</td>
</tr>
<tr>
<td style="text-align: left;"><code>sqrt(n)</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Calculate the square root of a number.</td>
</tr>
<tr>
<td style="text-align: left;"><code>sum(collection)</code></td>
<td style="text-align: left;"><code>Collection&lt;Number&gt;</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Calculate the sum of a collection of numbers. Useful when combined with the <code>group(pattern)</code> function.</td>
</tr>
<tr>
<td style="text-align: left;"><code>up(n)</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Round numbers away from zero, to the nearest integer.</td>
</tr>
<tr>
<td style="text-align: left;"><code>up(n,significance)</code></td>
<td style="text-align: left;"><code>Number</code>, <code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Round numbers away from zero, to the nearest integer multiple of <code>significance</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>wholePart(n)</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Extract the whole portion of a decimal number. For example <code>wholePart(123.4567)</code> would return <code>123</code>.</td>
</tr>
</tbody>
</table>
<h4 id="node-metadata-functions"><span class="enumerate-headings-plugin enumerate-heading-plugin">53.1.3.7</span> Node metadata functions<a class="headerlink" href="#node-metadata-functions" title="Permanent link">¶</a></h4>
<p>All the <a href="#datum-metadata">Datum Metadata</a> functions like <code>metadataAtPath(path)</code> can be invoked
directly, operating on the node's own metadata instead of a datum stream's metadata.</p>
<h4 id="operational-functions"><span class="enumerate-headings-plugin enumerate-heading-plugin">53.1.3.8</span> Operational functions<a class="headerlink" href="#operational-functions" title="Permanent link">¶</a></h4>
<p>The following functions deal with general SolarNode operations:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Function</th>
<th style="text-align: left;">Arguments</th>
<th style="text-align: left;">Result</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>isOpMode(mode)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>boolean</code></td>
<td style="text-align: left;">Returns <code>true</code> if the <code>mode</code> operational mode is active.</td>
</tr>
</tbody>
</table>
<h4 id="property-functions"><span class="enumerate-headings-plugin enumerate-heading-plugin">53.1.3.9</span> Property functions<a class="headerlink" href="#property-functions" title="Permanent link">¶</a></h4>
<p>The following functions help with expression properties (variables):</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Function</th>
<th style="text-align: left;">Arguments</th>
<th style="text-align: left;">Result</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>has(name)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>boolean</code></td>
<td style="text-align: left;">Returns <code>true</code> if a property named <code>name</code> is defined. Can be used to prevent expression errors on datum property variables that are missing.</td>
</tr>
<tr>
<td style="text-align: left;"><code>group(pattern)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>Collection&lt;Number&gt;</code></td>
<td style="text-align: left;">Creates a collection out of numbered properties whose <code>name</code> matches the given regular expression <code>pattern</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>sort(collection,reverse,name...)</code></td>
<td style="text-align: left;"><code>Collection&lt;?&gt;</code>, <code>Boolean</code>, <code>String[]</code></td>
<td style="text-align: left;"><code>Collection&lt;?&gt;</code></td>
<td style="text-align: left;">Sort a collection, optionally in reverse, by optional properties, returning the sorted collection. The second and third arguments are optional. If no <code>name</code> values are provided, the elements of the collection must be comparable (for example strings or numbers) and will be sorted in their natural order. If one or more <code>name</code> values are provided, each <code>name</code> property will be extracted from the collection elements and compared with each other to determine the order. The extracted property values must be comparable.</td>
</tr>
</tbody>
</table>
<h4 id="tariff-schedule-functions"><span class="enumerate-headings-plugin enumerate-heading-plugin">53.1.3.10</span> Tariff schedule functions<a class="headerlink" href="#tariff-schedule-functions" title="Permanent link">¶</a></h4>
<p>The following functions help work with <em>tariff schedules</em>, which represent a set of time-based criteria with associated <em>tariffs</em>. A tariff in this scheme is nothing more than a set of one or more number values, each with an associated name.</p>
<p>Here is an example schedule with 4 tariffs each with a single <strong>price</strong> rate. The <code>*</code> stands for <strong>any value</strong>:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Tariff</th>
<th style="text-align: left;">Month</th>
<th style="text-align: left;">Day</th>
<th style="text-align: left;">Weekday</th>
<th style="text-align: left;">Time</th>
<th style="text-align: right;">price</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>1</strong></td>
<td style="text-align: left;">Jan-Dec</td>
<td style="text-align: left;">*</td>
<td style="text-align: left;">Mon-Fri</td>
<td style="text-align: left;">0-8</td>
<td style="text-align: right;">10.48</td>
</tr>
<tr>
<td style="text-align: left;"><strong>2</strong></td>
<td style="text-align: left;">Jan-Dec</td>
<td style="text-align: left;">*</td>
<td style="text-align: left;">Mon-Fri</td>
<td style="text-align: left;">8-24</td>
<td style="text-align: right;">11.00</td>
</tr>
<tr>
<td style="text-align: left;"><strong>3</strong></td>
<td style="text-align: left;">Jan-Dec</td>
<td style="text-align: left;">*</td>
<td style="text-align: left;">Sat-Sun</td>
<td style="text-align: left;">0-8</td>
<td style="text-align: right;">9.19</td>
</tr>
<tr>
<td style="text-align: left;"><strong>4</strong></td>
<td style="text-align: left;">Jan-Dec</td>
<td style="text-align: left;">*</td>
<td style="text-align: left;">Sat-Sun</td>
<td style="text-align: left;">8-24</td>
<td style="text-align: right;">11.21</td>
</tr>
</tbody>
</table>
<p>Assuming the above schedule were available with the identifier <code>my-schedule</code>, here is an example expression that finds the <code>price</code> rate at the time the expression is evaluated:</p>
<div class="highlight"><pre><span></span><code>tariffSchedule('my-schedule')
    .resolveTariff(now(), null)
    .rates['price']
    .amount
</code></pre></div>
<p>If the evuation time was <code>2024-08-10 13:00</code> then the expression would return <code>11.21</code> because that date matches tariff #4.</p>
<p>You can use the <a href="#date-time-functions">date time functions</a> to find tariffs that match arbitrary dates, such as a date 1 month in the future:</p>
<div class="highlight"><pre><span></span><code>tariffSchedule('my-schedule')
    .resolveTariff(datePlus(now(), 1, 'months'), null)
    .rates['price']
    .amount
</code></pre></div>
<p>Here are the available tariff schedule expression functions:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Function</th>
<th style="text-align: left;">Arguments</th>
<th style="text-align: left;">Result</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>tariffSchedule(id)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>TariffSchedule</code></td>
<td style="text-align: left;">Get the <code>TariffSchedule</code> associated with the <code>id</code> identifier value.</td>
</tr>
<tr>
<td style="text-align: left;"><code>tariffScheduleGroup(groupId)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>Collection&lt;TariffSchedule&gt;</code></td>
<td style="text-align: left;">Get a collection of <code>TariffSchedule</code> objects associated with a <code>groupId</code> group identifier value.</td>
</tr>
</tbody>
</table>
<h5 id="tariffschedule-object-functions"><span class="enumerate-headings-plugin enumerate-heading-plugin">53.1.3.10.1</span> <code>TariffSchedule</code> object functions<a class="headerlink" href="#tariffschedule-object-functions" title="Permanent link">¶</a></h5>
<p>The <code>TariffSchedule</code> object provides the following functions:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Function</th>
<th style="text-align: left;">Arguments</th>
<th style="text-align: left;">Result</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>resolveTariff(dateTime, parameters)</code></td>
<td style="text-align: left;"><code>LocalDateTime</code>, <code>Map&lt;String,?&gt;</code></td>
<td style="text-align: left;"><code>Tariff</code></td>
<td style="text-align: left;">Resolve a <code>Tariff</code> for the given date and time, with an optional set of parameters (usually passing <code>null</code> is sufficient).</td>
</tr>
<tr>
<td style="text-align: left;"><code>rules()</code></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"><code>Collection&lt;Tariff&gt;</code></td>
<td style="text-align: left;">Get the complete colleciton of tariffs defined in the tariff schedule.</td>
</tr>
</tbody>
</table>
<h5 id="tariff-object-properties"><span class="enumerate-headings-plugin enumerate-heading-plugin">53.1.3.10.2</span> <code>Tariff</code> object properties<a class="headerlink" href="#tariff-object-properties" title="Permanent link">¶</a></h5>
<p>The <code>Tariff</code> object provides the following properties:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Property</th>
<th style="text-align: left;">Type</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>rates</code></td>
<td style="text-align: left;"><code>Map&lt;String,Rate&gt;</code></td>
<td style="text-align: left;">A mapping of tariff rate names to associated rate values.</td>
</tr>
</tbody>
</table>
<h5 id="rate-object-properties"><span class="enumerate-headings-plugin enumerate-heading-plugin">53.1.3.10.3</span> <code>Rate</code> object properties<a class="headerlink" href="#rate-object-properties" title="Permanent link">¶</a></h5>
<p>The <code>Rate</code> object provides the following properties:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Property</th>
<th style="text-align: left;">Type</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>amount</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Get the value of the rate.</td>
</tr>
<tr>
<td style="text-align: left;"><code>description</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;">An optional description for the rate.</td>
</tr>
<tr>
<td style="text-align: left;"><code>id</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;">A unique identifier for the rate within the tariff.</td>
</tr>
</tbody>
</table>
<h2 id="expression-examples"><span class="enumerate-headings-plugin enumerate-heading-plugin">53.2</span> Expression examples<a class="headerlink" href="#expression-examples" title="Permanent link">¶</a></h2>
<p>Let's assume a captured datum like this, expressed as JSON:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"i"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">"amps"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="mf">4.2</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"volts"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="mf">240.0</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">"a"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">"reading"</span><span class="w">   </span><span class="p">:</span><span class="w"> </span><span class="mi">38009138</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">"s"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">"state"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"Ok"</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Then here are some example <a href="https://github.com/SolarNetwork/solarnetwork/wiki/Spring-Expression-Language">Spel</a> expressions and the results they would produce:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Expression</th>
<th style="text-align: left;">Result</th>
<th style="text-align: left;">Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>state</code></td>
<td style="text-align: left;"><code>Ok</code></td>
<td style="text-align: left;">Returns the <code>state</code> status property directly, which is <code>Ok</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>datum.s['state']</code></td>
<td style="text-align: left;"><code>Ok</code></td>
<td style="text-align: left;">Returns the <code>state</code> status property explicitly.</td>
</tr>
<tr>
<td style="text-align: left;"><code>props['state']</code></td>
<td style="text-align: left;"><code>Ok</code></td>
<td style="text-align: left;">Same result as <code>datum.s['state']</code> but using the short-cut <code>props</code> accessor.</td>
</tr>
<tr>
<td style="text-align: left;"><code>amps * volts</code></td>
<td style="text-align: left;"><code>1008.0</code></td>
<td style="text-align: left;">Returns the result of multiplying the <code>amps</code> and <code>volts</code> properties together: <code>4.2 × 240.0 = 1008.0</code>.</td>
</tr>
</tbody>
</table>
<h3 id="datum-stream-history"><span class="enumerate-headings-plugin enumerate-heading-plugin">53.2.1</span> Datum stream history<a class="headerlink" href="#datum-stream-history" title="Permanent link">¶</a></h3>
<p>Building on the previous example datum, let's assume an <strong>earlier</strong> datum for the same source ID had
been collected with these properties (the classifications have been omitted for brevity):</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"amps"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="mf">3.1</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"volts"</span><span class="w">   </span><span class="p">:</span><span class="w"> </span><span class="mf">241.0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"reading"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">38009130</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"state"</span><span class="w">   </span><span class="p">:</span><span class="w"> </span><span class="s2">"Ok"</span>
<span class="p">}</span>
</code></pre></div>
<p>Then here are some example expressions and the results they would produce given the original datum
example:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Expression</th>
<th style="text-align: left;">Result</th>
<th style="text-align: left;">Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>hasOffset(1)</code></td>
<td style="text-align: left;"><code>true</code></td>
<td style="text-align: left;">Returns <code>true</code> because of the earlier datum that is available.</td>
</tr>
<tr>
<td style="text-align: left;"><code>hasOffset(2)</code></td>
<td style="text-align: left;"><code>false</code></td>
<td style="text-align: left;">Returns <code>false</code> because only one earlier datum is available.</td>
</tr>
<tr>
<td style="text-align: left;"><code>amps - offset(1).amps</code></td>
<td style="text-align: left;"><code>1.1</code></td>
<td style="text-align: left;">Computes the difference between the current and previous <code>amps</code> properties, which is <code>4.2 - 3.1 = 1.1</code>.</td>
</tr>
</tbody>
</table>
<h3 id="other-datum-stream-history"><span class="enumerate-headings-plugin enumerate-heading-plugin">53.2.2</span> Other datum stream history<a class="headerlink" href="#other-datum-stream-history" title="Permanent link">¶</a></h3>
<p>Other datum stream histories collected by SolarNode can also be accessed via the
<code>offset(source,offset)</code> function. Let's assume SolarNode is collecting a datum stream for the source
ID <code>solar</code>, and had amassed the following history, in newest-to-oldest order:</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span>
<span class="w">  </span><span class="p">{</span><span class="nt">"amps"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">6.0</span><span class="p">,</span><span class="w"> </span><span class="nt">"volts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">240.0</span><span class="w"> </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span><span class="nt">"amps"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">5.9</span><span class="p">,</span><span class="w"> </span><span class="nt">"volts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">239.9</span><span class="w"> </span><span class="p">}</span>
<span class="p">]</span>
</code></pre></div>
<p>Then here are some example expressions and the results they would produce given the original datum
example:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Expression</th>
<th style="text-align: left;">Result</th>
<th style="text-align: left;">Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>hasLatest('solar')</code></td>
<td style="text-align: left;"><code>true</code></td>
<td style="text-align: left;">Returns <code>true</code> because of a datum for source <code>solar</code> is available.</td>
</tr>
<tr>
<td style="text-align: left;"><code>hasOffset('solar',2)</code></td>
<td style="text-align: left;"><code>false</code></td>
<td style="text-align: left;">Returns <code>false</code> because only one earlier datum from the latest with source <code>solar</code> is available.</td>
</tr>
<tr>
<td style="text-align: left;"><code>(amps * volts) - (latest('solar').amps * latest('solar').volts)</code></td>
<td style="text-align: left;"><code>432.0</code></td>
<td style="text-align: left;">Computes the difference in energy between the latest <code>solar</code> datum and the current datum, which is <code>(6.0 × 240.0) - (4.2 × 240.0) = 432.0</code>.</td>
</tr>
</tbody>
</table>
<p>If we add another datum stream for the source ID <code>solar1</code> like this:</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span>
<span class="w">  </span><span class="p">{</span><span class="nt">"amps"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="nt">"volts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">240.0</span><span class="w"> </span><span class="p">}</span>
<span class="p">]</span>
</code></pre></div>
<p>If we also add another datum stream for the source ID <code>solar2</code> like this:</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span>
<span class="w">  </span><span class="p">{</span><span class="nt">"amps"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">3.0</span><span class="p">,</span><span class="w"> </span><span class="nt">"volts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">240.0</span><span class="w"> </span><span class="p">}</span>
<span class="p">]</span>
</code></pre></div>
<p>Then here are some example expressions and the results they would produce given the previous datum
examples:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Expression</th>
<th style="text-align: left;">Result</th>
<th style="text-align: left;">Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>sum(latestMatching('solar*').?[amps&gt;1].![amps * volts])</code></td>
<td style="text-align: left;"><code>2160</code></td>
<td style="text-align: left;">Returns the sum power of the latest <code>solar</code> and <code>solar2</code> datum. The <code>solar1</code> power is omitted because its <code>amps</code> property is not greater than <code>1</code>, so we end up with <code>(6 * 240) + (3 * 240) = 2160</code>.</td>
</tr>
</tbody>
</table>
<h2 id="datum-metadata"><span class="enumerate-headings-plugin enumerate-heading-plugin">53.3</span> Datum metadata<a class="headerlink" href="#datum-metadata" title="Permanent link">¶</a></h2>
<p>Some functions return <a href="https://github.com/SolarNetwork/solarnetwork-common/blob/develop/net.solarnetwork.common/src/net/solarnetwork/domain/datum/DatumMetadataOperations.java"><code>DatumMetadataOperations</code></a> objects. These objects
provide <a href="https://github.com/SolarNetwork/solarnetwork/wiki/SolarNet-API-global-objects#metadata">metadata</a> for things like a specific source ID on SolarNode.</p>
<h3 id="datum-metadata-properties"><span class="enumerate-headings-plugin enumerate-heading-plugin">53.3.1</span> Datum metadata properties<a class="headerlink" href="#datum-metadata-properties" title="Permanent link">¶</a></h3>
<p>The properties available on datum metadata objects are:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Property</th>
<th style="text-align: left;">Type</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>empty</code></td>
<td style="text-align: left;"><code>boolean</code></td>
<td style="text-align: left;">Is <code>true</code> if the metadata does not contain any values.</td>
</tr>
<tr>
<td style="text-align: left;"><code>info</code></td>
<td style="text-align: left;"><code>Map&lt;String,Object&gt;</code></td>
<td style="text-align: left;">Simple map based access to the general metadata (e.g. the keys of the <a href="https://github.com/SolarNetwork/solarnetwork/wiki/SolarNet-API-global-objects#metadata"><code>m</code> metadata</a> map).</td>
</tr>
<tr>
<td style="text-align: left;"><code>infoKeys</code></td>
<td style="text-align: left;"><code>Set&lt;String&gt;</code></td>
<td style="text-align: left;">The set of general metadata keys available (e.g. the keys of the <a href="https://github.com/SolarNetwork/solarnetwork/wiki/SolarNet-API-global-objects#metadata"><code>m</code> metadata</a> map).</td>
</tr>
<tr>
<td style="text-align: left;"><code>propertyInfoKeys</code></td>
<td style="text-align: left;"><code>Set&lt;String&gt;</code></td>
<td style="text-align: left;">The set of property metadata keys available (e.g. the keys of the <a href="https://github.com/SolarNetwork/solarnetwork/wiki/SolarNet-API-global-objects#metadata"><code>pm</code> metadata</a> map).</td>
</tr>
<tr>
<td style="text-align: left;"><code>tags</code></td>
<td style="text-align: left;"><code>Set&lt;String&gt;</code></td>
<td style="text-align: left;">A set of tags associated with the metadata.</td>
</tr>
</tbody>
</table>
<h3 id="datum-metadata-general-info-functions"><span class="enumerate-headings-plugin enumerate-heading-plugin">53.3.2</span> Datum metadata general info functions<a class="headerlink" href="#datum-metadata-general-info-functions" title="Permanent link">¶</a></h3>
<p>The following functions available on datum metadata objects support access to the general
metadata (e.g. the <a href="https://github.com/SolarNetwork/solarnetwork/wiki/SolarNet-API-global-objects#metadata"><code>m</code> metadata</a> map):</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Function</th>
<th style="text-align: left;">Arguments</th>
<th style="text-align: left;">Result</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>getInfo(key)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>Object</code></td>
<td style="text-align: left;">Get the general metadata value for a specific key.</td>
</tr>
<tr>
<td style="text-align: left;"><code>getInfoNumber(key)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Get a general metadata value for a specific key as a <code>Number</code>. Other more specific number value functions are also available such as <code>getInfoInteger(key)</code> or <code>getInfoBigDecimal(key)</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>getInfoString(key)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;">Get a general metadata value for a specific key as a <code>String</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>hasInfo(key)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>boolean</code></td>
<td style="text-align: left;">Returns <code>true</code> if a non-null general metadata value exists for the given key.</td>
</tr>
</tbody>
</table>
<h3 id="datum-metadata-property-info-functions"><span class="enumerate-headings-plugin enumerate-heading-plugin">53.3.3</span> Datum metadata property info functions<a class="headerlink" href="#datum-metadata-property-info-functions" title="Permanent link">¶</a></h3>
<p>The following functions available on datum metadata objects support access to the property
metadata (e.g. the <a href="https://github.com/SolarNetwork/solarnetwork/wiki/SolarNet-API-global-objects#metadata"><code>pm</code> metadata</a> map):</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Function</th>
<th style="text-align: left;">Arguments</th>
<th style="text-align: left;">Result</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>getPropertyInfo(prop)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>Map&lt;String,Object&gt;</code></td>
<td style="text-align: left;">Get the property metadata for a specific property.</td>
</tr>
<tr>
<td style="text-align: left;"><code>getInfoNumber(prop,key)</code></td>
<td style="text-align: left;"><code>String</code>, <code>String</code></td>
<td style="text-align: left;"><code>Number</code></td>
<td style="text-align: left;">Get a property metadata value for a specific property and key as a <code>Number</code>. Other more specific number value functions are also available such as <code>getInfoInteger(prop,key)</code> or <code>getInfoBigDecimal(prop,key)</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>getInfoString(prop,key)</code></td>
<td style="text-align: left;"><code>String</code>, <code>String</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;">Get a property metadata value for a specific property and key as a <code>String</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>hasInfo(prop,key)</code></td>
<td style="text-align: left;"><code>String</code>, <code>String</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;">Returns <code>true</code> if a non-null property metadata value exists for the given property and key.</td>
</tr>
</tbody>
</table>
<h3 id="datum-metadata-global-functions"><span class="enumerate-headings-plugin enumerate-heading-plugin">53.3.4</span> Datum metadata global functions<a class="headerlink" href="#datum-metadata-global-functions" title="Permanent link">¶</a></h3>
<p>The following functions available on datum metadata objects support access to both general and property metadata:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Function</th>
<th style="text-align: left;">Arguments</th>
<th style="text-align: left;">Result</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>differsFrom(metadata)</code></td>
<td style="text-align: left;"><code>DatumMetadataOperations</code></td>
<td style="text-align: left;"><code>boolean</code></td>
<td style="text-align: left;">Returns <code>true</code> if the given metadata has any different values than the receiver.</td>
</tr>
<tr>
<td style="text-align: left;"><code>hasTag(tag)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>boolean</code></td>
<td style="text-align: left;">Returns <code>true</code> if the given tag is available.</td>
</tr>
<tr>
<td style="text-align: left;"><code>metadataAtPath(path)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>Object</code></td>
<td style="text-align: left;">Get the metadata value at a <a href="https://github.com/SolarNetwork/solarnetwork/wiki/SolarNet-API-global-objects#metadata-filter-key-paths">metadata key path</a>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>hasMetadataAtPath(path)</code></td>
<td style="text-align: left;"><code>String</code></td>
<td style="text-align: left;"><code>boolean</code></td>
<td style="text-align: left;">Returns <code>true</code> if <code>metadataAtPath(path)</code> would return a non-null value.</td>
</tr>
</tbody>
</table>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "content.code.copy", "navigation.indexes", "navigation.instant", "navigation.path", "navigation.tracking", "toc.follow"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
<script src="../../assets/javascripts/bundle.ebd0bdb7.min.js"></script>
<script src="../../js/open_in_new_tab.js"></script>
</body>
</html>